# æ™ºæ°´ä¿¡æ¯äººå‘˜æ•ˆèƒ½ç®¡ç†MCPæœåŠ¡

## é¡¹ç›®æ¦‚è¿°

æ™ºæ°´ä¿¡æ¯äººå‘˜æ•ˆèƒ½ç®¡ç†MCPæœåŠ¡æ˜¯å››å·æ™ºæ°´ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸AIæ™ºæ…§ç®¡ç†è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒäººåŠ›èµ„æºç®¡ç†ç»„ä»¶ï¼Œä¸“ä¸ºæ°´åˆ©ç”µåŠ›ä¼ä¸šè®¾è®¡çš„å‘˜å·¥æ•ˆèƒ½è¯„ä¼°ä¸æ™ºèƒ½æŠ¥å‘Šç”Ÿæˆå·¥å…·ã€‚åŸºäºæ”¹è¿›å‹å¹³è¡¡è®¡åˆ†å¡ç†è®ºï¼Œæä¾›ç§‘å­¦ã€å…¨é¢ã€æ™ºèƒ½åŒ–çš„äººå‘˜æ•ˆèƒ½è¯„ä¼°ä½“ç³»ã€‚

### æ ¸å¿ƒä»·å€¼
- **ğŸ“Š ç§‘å­¦è¯„ä¼°ä½“ç³»**ï¼šåŸºäºæ”¹è¿›å‹å¹³è¡¡è®¡åˆ†å¡ï¼Œå››ç»´åº¦å…¨æ–¹ä½è¯„ä¼°å‘˜å·¥æ•ˆèƒ½
- **ğŸ¯ å²—ä½å·®å¼‚åŒ–**ï¼šæ”¯æŒç”Ÿäº§è¿ç»´ã€å®¢æˆ·æœåŠ¡ã€æŠ€æœ¯ç ”å‘ã€ç®¡ç†å²—ä½å››ç§å²—ä½ç±»å‹ï¼Œæƒé‡åŠ¨æ€è°ƒæ•´
- **ğŸ“ˆ æ™ºèƒ½æŠ¥å‘Šç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆä¸ªäººã€å›¢é˜Ÿã€éƒ¨é—¨ã€å…¬å¸å¤šå±‚çº§çš„è¯¦ç»†åˆ†ææŠ¥å‘Š
- **ğŸ” æ•°æ®å¯è§†åŒ–**ï¼šäº¤äº’å¼HTMLæŠ¥å‘Šï¼Œæ”¯æŒé›·è¾¾å›¾ã€è¶‹åŠ¿å›¾ç­‰å¤šç§å›¾è¡¨å±•ç¤º
- **âš¡ é«˜æ•ˆå†³ç­–æ”¯æŒ**ï¼šä¸ºç®¡ç†å±‚æä¾›ç§‘å­¦çš„äººå‘˜ç®¡ç†å’Œèµ„æºé…ç½®å†³ç­–ä¾æ®

### æœåŠ¡å®šä½
- **ç›®æ ‡ç”¨æˆ·**ï¼šæ°´åˆ©ç”µåŠ›ä¼ä¸šHRéƒ¨é—¨ã€å„çº§ç®¡ç†å±‚ã€å‘˜å·¥ä¸ªäºº
- **åº”ç”¨åœºæ™¯**ï¼šå­£åº¦/å¹´åº¦ç»©æ•ˆè€ƒæ ¸ã€å‘˜å·¥å‘å±•è§„åˆ’ã€å›¢é˜Ÿå»ºè®¾ä¼˜åŒ–ã€äººåŠ›èµ„æºé…ç½®
- **æŠ€æœ¯ç‰¹è‰²**ï¼šMCPæ ‡å‡†åŒ–æ¥å£ã€AIæ™ºèƒ½åˆ†æã€å¤šæ ¼å¼æŠ¥å‘Šè¾“å‡ºï¼ˆMarkdown/HTMLï¼‰

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **ğŸ”§ æœåŠ¡æ¡†æ¶**ï¼šFastMCP (Model Context Protocol) - æ ‡å‡†åŒ–å·¥å…·åè®®
- **ğŸ å¼€å‘è¯­è¨€**ï¼šPython 3.8+ - é«˜æ•ˆæ•°æ®å¤„ç†
- **ğŸ“Š è¯„ä¼°æ¨¡å‹**ï¼šæ”¹è¿›å‹å¹³è¡¡è®¡åˆ†å¡ - ç§‘å­¦è¯„ä¼°ç†è®º
- **ğŸ“ˆ å¯è§†åŒ–**ï¼šPlotly + HTML - äº¤äº’å¼å›¾è¡¨å±•ç¤º
- **ğŸ’¾ æ•°æ®æ ¼å¼**ï¼šJSON + CSV - å¤šæ ¼å¼æ•°æ®æ”¯æŒ
- **ğŸ¨ æŠ¥å‘Šæ ¼å¼**ï¼šMarkdown + HTML - å¤šæ ¼å¼æŠ¥å‘Šè¾“å‡º
- **ğŸŒ å‰ç«¯é›†æˆ**ï¼šJavaScript + CSS3 - ç°ä»£åŒ–äº¤äº’ç•Œé¢

### æ ¸å¿ƒç®—æ³•æ¶æ„

#### 1. å¹³è¡¡è®¡åˆ†å¡è¯„ä¼°å¼•æ“
```python
class BalancedScorecardEngine:
    """å¹³è¡¡è®¡åˆ†å¡è¯„ä¼°å¼•æ“"""
    
    def __init__(self):
        # å››ç»´åº¦æƒé‡é…ç½®ï¼ˆæŒ‰å²—ä½ç±»å‹åŠ¨æ€è°ƒæ•´ï¼‰
        self.dimensions = {
            "economic": "ç»æµä¸ä»·å€¼åˆ›é€ ",
            "customer": "å®¢æˆ·ä¸ç¤¾ä¼šè´¡çŒ®", 
            "process": "å†…éƒ¨æµç¨‹ä¸æ²»ç†",
            "learning": "å­¦ä¹ æˆé•¿ä¸ç¯å¢ƒ"
        }
        
    def calculate_dimension_score(self, metrics_data, dimension_key):
        """è®¡ç®—å•ç»´åº¦å¾—åˆ†"""
        # æŒ‡æ ‡æ ‡å‡†åŒ–å¤„ç†
        normalized_metrics = self.normalize_metrics(metrics_data[dimension_key])
        # åŠ æƒå¹³å‡è®¡ç®—
        weighted_score = sum(metric["score"] * metric["weight"] 
                           for metric in normalized_metrics)
        return min(100, max(0, weighted_score))
    
    def calculate_overall_score(self, dimension_scores, position_type):
        """è®¡ç®—ç»¼åˆå¾—åˆ†"""
        weights = POSITION_WEIGHTS[position_type]
        total_score = sum(dimension_scores[dim] * weights[dim] 
                         for dim in weights.keys())
        return round(total_score, 2)
```

#### 2. å¤šæ ¼å¼æ•°æ®è§£æå™¨
```python
class MultiFormatDataParser:
    """å¤šæ ¼å¼æ•°æ®è§£æå™¨"""
    
    def parse_input_data(self, input_data, data_type="employee"):
        """æ™ºèƒ½è§£æå¤šæ ¼å¼è¾“å…¥æ•°æ®"""
        if isinstance(input_data, dict):
            return input_data  # å­—å…¸å¯¹è±¡ç›´æ¥è¿”å›
        elif isinstance(input_data, str):
            if input_data.endswith('.csv') and os.path.exists(input_data):
                return self.parse_csv_file(input_data, data_type)  # CSVæ–‡ä»¶è§£æ
            else:
                return json.loads(input_data)  # JSONå­—ç¬¦ä¸²è§£æ
        else:
            raise ValueError(f"ä¸æ”¯æŒçš„è¾“å…¥æ•°æ®ç±»å‹: {type(input_data)}")
    
    def parse_csv_file(self, file_path, data_type):
        """è§£æCSVæ–‡ä»¶"""
        with open(file_path, 'r', encoding='utf-8') as file:
            reader = csv.DictReader(file)
            if data_type == "employee":
                return self.parse_employee_csv(reader)
            else:
                return self.parse_metrics_csv(reader)
```

#### 3. HTMLæŠ¥å‘Šç”Ÿæˆå¼•æ“
```python
class HTMLReportGenerator:
    """HTMLæŠ¥å‘Šç”Ÿæˆå¼•æ“"""
    
    def generate_interactive_report(self, report_data, report_type):
        """ç”Ÿæˆäº¤äº’å¼HTMLæŠ¥å‘Š"""
        # Plotlyå›¾è¡¨é…ç½®
        charts_config = self.create_charts_configuration(report_data, report_type)
        
        # HTMLæ¨¡æ¿æ¸²æŸ“
        html_template = self.load_html_template(report_type)
        
        # åŠ¨æ€æ•°æ®æ³¨å…¥
        rendered_html = html_template.format(
            report_title=report_data["title"],
            plotly_charts=json.dumps(charts_config),
            report_data=json.dumps(report_data),
            generation_time=datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        )
        
        return rendered_html
    
    def create_charts_configuration(self, data, report_type):
        """åˆ›å»ºå›¾è¡¨é…ç½®"""
        if report_type == "individual":
            return {
                "radar_chart": self.create_radar_chart(data["dimensions"]),
                "trend_chart": self.create_trend_chart(data["history"]),
                "comparison_chart": self.create_comparison_chart(data["peer_comparison"])
            }
        # ... å…¶ä»–æŠ¥å‘Šç±»å‹çš„å›¾è¡¨é…ç½®
```

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯åº”ç”¨      â”‚â”€â”€â”€â–¶â”‚  MCPå·¥å…·é›†       â”‚â”€â”€â”€â–¶â”‚  è¯„ä¼°å¼•æ“       â”‚
â”‚  (Streamlit)    â”‚    â”‚ hr_efficiency    â”‚    â”‚ å¹³è¡¡è®¡åˆ†å¡æ¨¡å‹  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   _mcp.py       â”‚    â”‚ å²—ä½æƒé‡ç®—æ³•    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚                         â”‚
                              â–¼                         â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   æŠ¥å‘Šç”Ÿæˆå™¨     â”‚    â”‚  æ•°æ®å¤„ç†å™¨     â”‚
                       â”‚ Markdown/HTML    â”‚    â”‚ JSON/CSVè§£æ    â”‚
                       â”‚ Plotlyå›¾è¡¨       â”‚    â”‚ æ•°æ®éªŒè¯è½¬æ¢    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç‰¹æ€§
- **å››ç»´åº¦è¯„ä¼°**ï¼šç»æµã€å®¢æˆ·ã€æµç¨‹ã€å­¦ä¹ æˆé•¿å…¨æ–¹ä½è¯„ä¼°
- **å²—ä½å·®å¼‚åŒ–**ï¼šå››ç§å²—ä½ç±»å‹ï¼ŒåŠ¨æ€æƒé‡é…ç½®
- **æ™ºèƒ½è¯„åˆ†**ï¼šåŸºäºä¸šåŠ¡æŒ‡æ ‡çš„ç§‘å­¦è¯„åˆ†ç®—æ³•
- **å¤šå±‚çº§æŠ¥å‘Š**ï¼šä¸ªäººâ†’å›¢é˜Ÿâ†’éƒ¨é—¨â†’å…¬å¸é€çº§åˆ†æ
- **å¯è§†åŒ–å±•ç¤º**ï¼šäº¤äº’å¼HTMLæŠ¥å‘Šï¼Œæ”¯æŒå¤šç§å›¾è¡¨ç±»å‹

## ğŸ”§ MCP å·¥å…·æ¥å£è¯¦è§£

### 1. ğŸ‘¤ å‘˜å·¥æ•ˆèƒ½è¯„ä¼°å·¥å…· (`evaluate_employee_efficiency`)

**åŠŸèƒ½æè¿°**ï¼šåŸºäºæ”¹è¿›å‹å¹³è¡¡è®¡åˆ†å¡çš„å‘˜å·¥æ•ˆèƒ½è¯„åˆ†å¼•æ“ï¼Œæ”¯æŒå››ç»´åº¦æ™ºèƒ½è¯„ä¼°å’Œå¤šæ ¼å¼æ•°æ®è¾“å…¥

**æŠ€æœ¯å®ç°**ï¼š
- **å¤šæ ¼å¼æ•°æ®æ”¯æŒ**ï¼šæ™ºèƒ½è¯†åˆ«JSONå­—ç¬¦ä¸²ã€CSVæ–‡ä»¶è·¯å¾„ã€å­—å…¸å¯¹è±¡ä¸‰ç§è¾“å…¥æ ¼å¼
- **åŠ¨æ€æƒé‡ç®—æ³•**ï¼šæ ¹æ®å²—ä½ç±»å‹è‡ªåŠ¨è°ƒæ•´å››ç»´åº¦æƒé‡é…ç½®
- **ç§‘å­¦è¯„åˆ†æ¨¡å‹**ï¼šåŸºäºä¸šåŠ¡æŒ‡æ ‡çš„é‡åŒ–å’Œæ ‡å‡†åŒ–è¯„åˆ†ç®—æ³•
- **ç­‰çº§è¯„å®šç³»ç»Ÿ**ï¼šäº”çº§æ•ˆèƒ½ç­‰çº§ï¼ˆä¼˜ç§€/è‰¯å¥½/åˆæ ¼/å¾…æé«˜/éœ€æ”¹è¿›ï¼‰

**è¾“å…¥å‚æ•°**ï¼š
```json
{
  "employee_data": "å‘˜å·¥åŸºç¡€ä¿¡æ¯ï¼ˆJSONå­—ç¬¦ä¸²ã€CSVè·¯å¾„æˆ–å­—å…¸å¯¹è±¡ï¼‰",
  "metrics_data": "å„ç»´åº¦æŒ‡æ ‡æ•°æ®ï¼ˆJSONå­—ç¬¦ä¸²ã€CSVè·¯å¾„æˆ–å­—å…¸å¯¹è±¡ï¼‰",
  "position_type": "å²—ä½ç±»å‹ï¼ˆç”Ÿäº§è¿ç»´/å®¢æˆ·æœåŠ¡/æŠ€æœ¯ç ”å‘/ç®¡ç†å²—ä½ï¼‰"
}
```

**æ ¸å¿ƒç®—æ³•**ï¼š
```python
# æƒé‡é…ç½®ç®—æ³•ï¼ˆæŒ‰å²—ä½ç±»å‹åŠ¨æ€è°ƒæ•´ï¼‰
POSITION_WEIGHTS = {
    "ç”Ÿäº§è¿ç»´": {"economic": 0.40, "customer": 0.30, "process": 0.25, "learning": 0.05},
    "å®¢æˆ·æœåŠ¡": {"economic": 0.25, "customer": 0.40, "process": 0.25, "learning": 0.10},
    "æŠ€æœ¯ç ”å‘": {"economic": 0.30, "customer": 0.15, "process": 0.25, "learning": 0.30},
    "ç®¡ç†å²—ä½": {"economic": 0.30, "customer": 0.25, "process": 0.30, "learning": 0.15}
}

# è¯„åˆ†æ ‡å‡†åŒ–ç®—æ³•ï¼ˆ0-100åˆ†åˆ¶ï¼‰
def normalize_score(raw_score, min_val, max_val):
    return max(0, min(100, (raw_score - min_val) / (max_val - min_val) * 100))
```

**è¯„ä¼°ç»´åº¦**ï¼š
- ğŸ’° **ç»æµä¸ä»·å€¼åˆ›é€ ï¼ˆ35%æƒé‡ï¼‰**ï¼šæˆæœ¬ä¼˜åŒ–è´¡çŒ®ã€æ•°å­—åŒ–æ•ˆç‡æå‡
- ğŸ¤ **å®¢æˆ·ä¸ç¤¾ä¼šè´¡çŒ®ï¼ˆ25%æƒé‡ï¼‰**ï¼šæœåŠ¡å¯é æ€§ã€å®¢æˆ·æœåŠ¡è´¨é‡
- âš™ï¸ **å†…éƒ¨æµç¨‹ä¸æ²»ç†ï¼ˆ25%æƒé‡ï¼‰**ï¼šæµç¨‹æ•ˆç‡ã€é£é™©åˆè§„ç®¡ç†
- ğŸ“š **å­¦ä¹ æˆé•¿ä¸ç¯å¢ƒï¼ˆ15%æƒé‡ï¼‰**ï¼šæŠ€èƒ½å‘å±•ã€åˆ›æ–°å…±äº«ã€ç¯å¢ƒå®è·µ

**æŠ€æœ¯ç‰¹è‰²**ï¼š
- âœ… **å¤šæ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒJSONå­—ç¬¦ä¸²ã€CSVæ–‡ä»¶è·¯å¾„ã€å­—å…¸å¯¹è±¡ä¸‰ç§è¾“å…¥æ–¹å¼
- ğŸ¯ **å²—ä½å·®å¼‚åŒ–**ï¼šå››ç§å²—ä½ç±»å‹ï¼ŒåŠ¨æ€æƒé‡é…ç½®
- ğŸ“Š **æ™ºèƒ½è¯„åˆ†**ï¼šåŸºäºå®é™…ä¸šåŠ¡æŒ‡æ ‡çš„ç§‘å­¦è¯„åˆ†ç®—æ³•
- ğŸ† **ç­‰çº§è¯„å®š**ï¼šä¼˜ç§€ã€è‰¯å¥½ã€åˆæ ¼ã€å¾…æé«˜ã€éœ€æ”¹è¿›äº”çº§è¯„å®š

**è¿”å›ç»“æœ**ï¼š
```json
{
  "å‘˜å·¥ä¿¡æ¯": "åŸºç¡€ä¿¡æ¯è¯¦æƒ…",
  "ç»´åº¦å¾—åˆ†": "å„ç»´åº¦è¯¦ç»†å¾—åˆ†",
  "æ€»åˆ†": "ç»¼åˆæ•ˆèƒ½å¾—åˆ†",
  "ç­‰çº§": "æ•ˆèƒ½è¯„å®šç­‰çº§",
  "æ’å": "åŒå²—ä½æ’å",
  "æ”¹è¿›å»ºè®®": "ä¸ªæ€§åŒ–æ”¹è¿›å»ºè®®"
}
```

**å…¸å‹åº”ç”¨**ï¼šå­£åº¦/å¹´åº¦ç»©æ•ˆè€ƒæ ¸ã€å‘˜å·¥å‘å±•è§„åˆ’ã€æ™‹å‡è¯„ä¼°å‚è€ƒ

---

### 2. ğŸ“ˆ æ•ˆèƒ½æŠ¥å‘Šç”Ÿæˆå·¥å…· (`generate_efficiency_report`)

**åŠŸèƒ½æè¿°**ï¼šæ™ºèƒ½ç”Ÿæˆå¤šå±‚çº§äººå‘˜æ•ˆèƒ½åˆ†ææŠ¥å‘Šï¼Œæ”¯æŒMarkdownå’Œäº¤äº’å¼HTMLåŒæ ¼å¼è¾“å‡º

**æŠ€æœ¯å®ç°**ï¼š
- **åŒæ ¼å¼è¾“å‡º**ï¼šæ”¯æŒMarkdownæ–‡æ¡£å’Œäº¤äº’å¼HTMLæŠ¥å‘Šä¸¤ç§æ ¼å¼
- **Plotlyå›¾è¡¨é›†æˆ**ï¼šHTMLæ ¼å¼åŒ…å«é›·è¾¾å›¾ã€æŸ±çŠ¶å›¾ã€è¶‹åŠ¿å›¾ç­‰äº¤äº’å¼å›¾è¡¨
- **å“åº”å¼è®¾è®¡**ï¼šHTMLæŠ¥å‘Šé€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡ï¼Œæ”¯æŒç°ä»£æµè§ˆå™¨
- **æœ¬åœ°æ–‡ä»¶ç®¡ç†**ï¼šè‡ªåŠ¨ç”ŸæˆæŠ¥å‘Šæ–‡ä»¶å¹¶ä¿å­˜åˆ°æœ¬åœ°ç›®å½•ç»“æ„
- **æµè§ˆå™¨é¢„è§ˆ**ï¼šHTMLæŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆå¹¶å¯è‡ªåŠ¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€

**è¾“å…¥å‚æ•°**ï¼š
```json
{
  "report_type": "æŠ¥å‘Šç±»å‹ï¼ˆindividual/team/department/companyï¼‰",
  "target_scope": "ç›®æ ‡èŒƒå›´ï¼ˆå‘˜å·¥ID/å›¢é˜Ÿåç§°/éƒ¨é—¨ä»£ç /allï¼‰",
  "time_period": "æ—¶é—´å‘¨æœŸï¼ˆmonthly/quarterly/yearly/customï¼‰",
  "data_source": "æ•°æ®æºé…ç½®ï¼ˆJSONå­—ç¬¦ä¸²æˆ–å­—å…¸å¯¹è±¡ï¼‰",
  "output_format": "è¾“å‡ºæ ¼å¼ï¼ˆmarkdown/htmlï¼‰ï¼Œé»˜è®¤markdown"
}
```

**HTMLæŠ¥å‘ŠæŠ€æœ¯ç‰¹è‰²**ï¼š
- **äº¤äº’å¼é›·è¾¾å›¾**ï¼šä¸ªäººå››ç»´åº¦èƒ½åŠ›é›·è¾¾å›¾ï¼Œæ”¯æŒæ‚¬åœæŸ¥çœ‹è¯¦ç»†æ•°æ®
- **åŠ¨æ€å›¾è¡¨åº“**ï¼šä½¿ç”¨Plotly.jså®ç°ä¸“ä¸šçº§æ•°æ®å¯è§†åŒ–
- **CSSæ ·å¼ä¼˜åŒ–**ï¼šç°ä»£åŒ–çš„æŠ¥å‘Šæ ·å¼ï¼Œæ”¯æŒæ‰“å°å’Œåˆ†äº«
- **æ–‡ä»¶ç»“æ„ç®¡ç†**ï¼šè‡ªåŠ¨åˆ›å»ºreportsç›®å½•ç»“æ„ï¼Œåˆ†ç±»ä¿å­˜ä¸åŒç±»å‹æŠ¥å‘Š

**æŠ¥å‘Šç±»å‹**ï¼š
- ğŸ‘¤ **ä¸ªäººæ•ˆèƒ½è¯Šæ–­æŠ¥å‘Š**ï¼šè¯¦ç»†çš„ä¸ªäººè¡¨ç°åˆ†æå’Œæ”¹è¿›å»ºè®®
- ğŸ‘¥ **å›¢é˜Ÿæ•ˆèƒ½åˆ†ææŠ¥å‘Š**ï¼šå›¢é˜Ÿæ•´ä½“è¡¨ç°å’Œåä½œæ•ˆç‡åˆ†æ
- ğŸ¢ **éƒ¨é—¨æ•ˆèƒ½è¯„ä¼°æŠ¥å‘Š**ï¼šéƒ¨é—¨çº§åˆ«çš„ç»¼åˆæ•ˆèƒ½è¯„ä¼°
- ğŸ­ **å…¬å¸æ•´ä½“æ•ˆèƒ½æŠ¥å‘Š**ï¼šä¼ä¸šçº§åˆ«çš„æˆ˜ç•¥æ•ˆèƒ½åˆ†æ

**æŠ€æœ¯ç‰¹è‰²**ï¼š
- ğŸ¨ **å¤šæ ¼å¼è¾“å‡º**ï¼šæ”¯æŒMarkdownå’Œäº¤äº’å¼HTMLä¸¤ç§æ ¼å¼
- ğŸ“Š **æ•°æ®å¯è§†åŒ–**ï¼šHTMLæ ¼å¼åŒ…å«Plotlyäº¤äº’å¼å›¾è¡¨
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡è®¿é—®
- ğŸ’¾ **æœ¬åœ°ä¿å­˜**ï¼šè‡ªåŠ¨ä¿å­˜æŠ¥å‘Šæ–‡ä»¶åˆ°æœ¬åœ°ç›®å½•

**å…¸å‹åº”ç”¨**ï¼šç®¡ç†å±‚å†³ç­–æ”¯æŒã€HRåˆ†ææŠ¥å‘Šã€å‘˜å·¥ç»©æ•ˆåé¦ˆã€æˆ˜ç•¥è§„åˆ’å‚è€ƒ

## ğŸ“Š æ•°æ®å¤„ç†æµç¨‹

### 1. å‘˜å·¥æ•ˆèƒ½è¯„ä¼°æ•°æ®æµ
```
è¾“å…¥æ•°æ® â†’ æ ¼å¼è§£æ â†’ æ•°æ®éªŒè¯ â†’ æŒ‡æ ‡è®¡ç®— â†’ æƒé‡åº”ç”¨ â†’ ç»¼åˆè¯„åˆ† â†’ ç­‰çº§è¯„å®š â†’ ç»“æœè¾“å‡º
    â†“         â†“         â†“         â†“         â†“         â†“         â†“         â†“
 åŸå§‹æ•°æ®   æ™ºèƒ½è¯†åˆ«   å®Œæ•´æ€§æ£€æŸ¥  å•ç»´åº¦å¾—åˆ†  å²—ä½æƒé‡   æ€»åˆ†è®¡ç®—   äº”çº§è¯„å®š   è¯¦ç»†æŠ¥å‘Š
```

### 2. æŠ¥å‘Šç”Ÿæˆæ•°æ®æµ
```
è¯„ä¼°æ•°æ® â†’ æŠ¥å‘Šç±»å‹è¯†åˆ« â†’ æ¨¡æ¿é€‰æ‹© â†’ æ•°æ®èšåˆ â†’ å›¾è¡¨ç”Ÿæˆ â†’ HTMLæ¸²æŸ“ â†’ æ–‡ä»¶ä¿å­˜ â†’ æµè§ˆå™¨é¢„è§ˆ
    â†“         â†“           â†“         â†“         â†“         â†“         â†“         â†“
 è¯„åˆ†ç»“æœ   ä¸ªäºº/å›¢é˜Ÿ/éƒ¨é—¨  Markdown/  æ•°æ®æ±‡æ€»   Plotly    æ¨¡æ¿å¼•æ“   æœ¬åœ°æ–‡ä»¶   è‡ªåŠ¨æ‰“å¼€
          /å…¬å¸       HTMLæ¨¡æ¿   ç»Ÿè®¡åˆ†æ   å›¾è¡¨åº“      æ¸²æŸ“      ç³»ç»Ÿ
```

### 3. æ ¸å¿ƒæ•°æ®ç»“æ„

#### å‘˜å·¥åŸºç¡€ä¿¡æ¯ç»“æ„
```json
{
  "name": "å¼ ä¸‰",
  "employee_id": "EMP001",
  "department": "æŠ€æœ¯éƒ¨",
  "position": "é«˜çº§å·¥ç¨‹å¸ˆ",
  "position_type": "æŠ€æœ¯ç ”å‘",
  "years_experience": 5,
  "evaluation_period": "2024å¹´ç¬¬å››å­£åº¦"
}
```

#### å››ç»´åº¦æŒ‡æ ‡æ•°æ®ç»“æ„
```json
{
  "economic_value": {
    "cost_optimization": {
      "baseline_unit_cost": 100.0,
      "actual_unit_cost": 85.5,
      "improvement_rate": 14.5
    },
    "digital_efficiency": {
      "baseline_work_hours": 160,
      "actual_work_hours": 120,
      "automation_usage_rate": 0.85
    }
  },
  "customer_contribution": {
    "service_reliability": {
      "uptime_percentage": 99.8,
      "incident_count": 2,
      "resolution_time_avg": 4.5
    },
    "service_quality": {
      "customer_satisfaction": 4.6,
      "complaint_rate": 0.02,
      "response_time_avg": 2.1
    }
  },
  "internal_process": {
    "process_efficiency": {
      "process_completion_rate": 0.95,
      "standard_compliance_rate": 0.98,
      "error_rate": 0.03
    },
    "risk_management": {
      "risk_identification_count": 8,
      "mitigation_actions": 6,
      "compliance_score": 92.0
    }
  },
  "learning_growth": {
    "skill_development": {
      "training_hours": 40,
      "certifications_earned": 2,
      "skill_assessment_score": 88.5
    },
    "innovation_contribution": {
      "innovation_proposals": 3,
      "implemented_count": 1,
      "knowledge_sharing_sessions": 5
    }
  }
}
```

#### è¯„ä¼°ç»“æœæ•°æ®ç»“æ„
```json
{
  "employee_info": {
    "name": "å¼ ä¸‰",
    "employee_id": "EMP001",
    "department": "æŠ€æœ¯éƒ¨",
    "position": "é«˜çº§å·¥ç¨‹å¸ˆ"
  },
  "dimension_scores": {
    "economic_value": 87.5,
    "customer_contribution": 82.3,
    "internal_process": 91.2,
    "learning_growth": 76.8
  },
  "overall_score": 85.6,
  "performance_level": "è‰¯å¥½",
  "ranking": "å‰25%",
  "improvement_suggestions": [
    "å»ºè®®åŠ å¼ºåˆ›æ–°æ€ç»´åŸ¹å…»ï¼Œå¤šå‚ä¸æŠ€æœ¯åˆ†äº«æ´»åŠ¨",
    "å¯ä»¥ç»§ç»­æå‡å®¢æˆ·æœåŠ¡è´¨é‡ï¼Œå…³æ³¨ç”¨æˆ·ä½“éªŒä¼˜åŒ–"
  ]
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡
```bash
# ç¡®ä¿Python 3.8+å·²å®‰è£…
python --version

# å®‰è£…ä¾èµ–
pip install fastmcp pandas numpy datetime logging plotly
```

### 2. å¯åŠ¨MCPæœåŠ¡
```bash
# æ–¹å¼1ï¼šç›´æ¥å¯åŠ¨
python zhishui_efficiency_mcp.py

# æ–¹å¼2ï¼šä½¿ç”¨å¯åŠ¨å™¨
python start_mcp_server.py
```

### 3. è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œå®Œæ•´åŠŸèƒ½æµ‹è¯•
python test_mcp_service.py

# æµ‹è¯•HTMLæŠ¥å‘ŠåŠŸèƒ½
python test_html_report.py

# äº¤äº’å¼æ¼”ç¤º
python demo_html_report.py
```

## ğŸ¨ HTMLæŠ¥å‘ŠåŠŸèƒ½è¯¦è§£

### HTMLæŠ¥å‘Šç‰¹æ€§

- **ğŸ“Š äº¤äº’å¼å›¾è¡¨**ï¼šåŸºäºPlotlyçš„åŠ¨æ€æ•°æ®å¯è§†åŒ–
- **ğŸ¯ å¤šç»´åº¦å±•ç¤º**ï¼šé›·è¾¾å›¾ã€æŸ±çŠ¶å›¾ã€é¥¼å›¾ç­‰å¤šç§å›¾è¡¨ç±»å‹
- **ğŸ“± å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡è®¿é—®
- **ğŸ” æ•°æ®é’»å–**ï¼šæ”¯æŒå›¾è¡¨äº¤äº’å’Œæ•°æ®è¯¦æƒ…æŸ¥çœ‹
- **ğŸ’¾ æœ¬åœ°ä¿å­˜**ï¼šè‡ªåŠ¨ä¿å­˜HTMLæ–‡ä»¶åˆ°æœ¬åœ°
- **ğŸŒ æµè§ˆå™¨é¢„è§ˆ**ï¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨é¢„è§ˆæŠ¥å‘Š

### HTMLæŠ¥å‘Šç±»å‹

#### 1. ä¸ªäººæ•ˆèƒ½HTMLæŠ¥å‘Š
- ä¸ªäººå››ç»´åº¦é›·è¾¾å›¾
- å†å²è¶‹åŠ¿åˆ†æ
- åŒå²—ä½å¯¹æ¯”åˆ†æ
- æ”¹è¿›å»ºè®®å¯è§†åŒ–

#### 2. å›¢é˜Ÿæ•ˆèƒ½HTMLæŠ¥å‘Š
- å›¢é˜Ÿæˆå‘˜æ•ˆèƒ½å¯¹æ¯”
- å›¢é˜Ÿåä½œæ•ˆç‡åˆ†æ
- å›¢é˜ŸæŠ€èƒ½åˆ†å¸ƒå›¾
- å›¢é˜Ÿå‘å±•è¶‹åŠ¿

#### 3. éƒ¨é—¨æ•ˆèƒ½HTMLæŠ¥å‘Š
- éƒ¨é—¨æ•´ä½“æ•ˆèƒ½æ¦‚è§ˆ
- å„å›¢é˜Ÿæ•ˆèƒ½å¯¹æ¯”
- éƒ¨é—¨å…³é”®æŒ‡æ ‡ä»ªè¡¨ç›˜
- éƒ¨é—¨æ”¹è¿›ä¼˜å…ˆçº§çŸ©é˜µ

#### 4. å…¬å¸æ•´ä½“HTMLæŠ¥å‘Š
- å…¬å¸æ•ˆèƒ½å…¨æ™¯å›¾
- å„éƒ¨é—¨æ•ˆèƒ½æ’å
- å…¬å¸æˆ˜ç•¥ç›®æ ‡è¾¾æˆæƒ…å†µ
- æ•ˆèƒ½æå‡ROIåˆ†æ

### HTMLæŠ¥å‘Šæ–‡ä»¶ç»“æ„

```
reports/
â”œâ”€â”€ individual/
â”‚   â”œâ”€â”€ [å‘˜å·¥ID]_ä¸ªäººæ•ˆèƒ½æŠ¥å‘Š_[æ—¥æœŸ].html
â”‚   â””â”€â”€ assets/
â”‚       â”œâ”€â”€ plotly.min.js
â”‚       â””â”€â”€ custom.css
â”œâ”€â”€ team/
â”‚   â”œâ”€â”€ æŠ€æœ¯å›¢é˜Ÿ_å›¢é˜Ÿæ•ˆèƒ½æŠ¥å‘Š_20241201.html
â”‚   â””â”€â”€ assets/
â”œâ”€â”€ department/
â”‚   â”œâ”€â”€ ç ”å‘éƒ¨_éƒ¨é—¨æ•ˆèƒ½æŠ¥å‘Š_20241201.html
â”‚   â””â”€â”€ assets/
â””â”€â”€ company/
    â”œâ”€â”€ æ™ºæ°´ç§‘æŠ€_å…¬å¸æ•ˆèƒ½æŠ¥å‘Š_20241201.html
    â””â”€â”€ assets/
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### å‘˜å·¥æ•ˆèƒ½è¯„ä¼°

```python
from zhishui_efficiency_mcp import evaluate_employee_efficiency
import json

# å‘˜å·¥åŸºç¡€ä¿¡æ¯ï¼ˆè¯·æ›¿æ¢ä¸ºçœŸå®æ•°æ®ï¼‰
employee_data = {
    "name": "[å‘˜å·¥å§“å]",
    "employee_id": "[å‘˜å·¥ID]",
    "department": "[éƒ¨é—¨åç§°]",
    "position": "[èŒä½åç§°]",
    "evaluation_period": "[è¯„ä¼°å‘¨æœŸ]"
}

# å„ç»´åº¦æŒ‡æ ‡æ•°æ®ï¼ˆè¯·æ›¿æ¢ä¸ºçœŸå®æŒ‡æ ‡æ•°æ®ï¼‰
metrics_data = {
    "economic_value": {
        "cost_optimization": {
            "baseline_unit_cost": "[åŸºå‡†æˆæœ¬]",
            "actual_unit_cost": "[å®é™…æˆæœ¬]"
        },
        "digital_efficiency": {
            "baseline_work_hours": "[åŸºå‡†å·¥æ—¶]",
            "actual_work_hours": "[å®é™…å·¥æ—¶]",
            "automation_usage_rate": "[è‡ªåŠ¨åŒ–ä½¿ç”¨ç‡]"
        }
    },
    # ... å…¶ä»–ç»´åº¦æ•°æ®ï¼ˆè¯·æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚å¡«å†™ï¼‰
}

# è°ƒç”¨è¯„ä¼°
result = evaluate_employee_efficiency(
    employee_data=json.dumps(employee_data),
    metrics_data=json.dumps(metrics_data),
    position_type="ç”Ÿäº§è¿ç»´"
)

print(result)
```

### ç”ŸæˆMarkdownæŠ¥å‘Š

```python
from zhishui_efficiency_mcp import generate_efficiency_report
import json

# æŠ¥å‘Šæ•°æ®æº
data_source = {
    "evaluation_data": {
        "total_employees": 45,
        "average_score": 78.3,
        "score_distribution": {
            "ä¼˜ç§€": 8,
            "è‰¯å¥½": 22,
            "åˆæ ¼": 12
        }
    }
}

# ç”Ÿæˆä¸ªäººMarkdownæŠ¥å‘Š
report = generate_efficiency_report(
    report_type="individual",
    target_scope="[å‘˜å·¥ID]",  # è¯·æ›¿æ¢ä¸ºçœŸå®å‘˜å·¥ID
    time_period="quarterly",
    data_source=json.dumps(data_source),
    output_format="markdown"  # é»˜è®¤æ ¼å¼
)

print(report)
```

### ç”Ÿæˆå¯äº¤äº’HTMLæŠ¥å‘Š âœ¨

```python
from zhishui_efficiency_mcp import generate_efficiency_report
import json

# ç”Ÿæˆä¸ªäººHTMLæŠ¥å‘Š
result = generate_efficiency_report(
    report_type="individual",
    target_scope="[å‘˜å·¥ID]",  # è¯·æ›¿æ¢ä¸ºçœŸå®å‘˜å·¥ID
    time_period="quarterly",
    data_source=json.dumps(data_source),
    output_format="html"  # æ–°å¢HTMLæ ¼å¼
)

print(f"HTMLæŠ¥å‘Šå·²ä¿å­˜: {result['file_path']}")
print(f"æµè§ˆå™¨è®¿é—®: {result['browser_url']}")

# ç”Ÿæˆå›¢é˜ŸHTMLæŠ¥å‘Š
team_result = generate_efficiency_report(
    report_type="team",
    target_scope="æŠ€æœ¯å›¢é˜Ÿ",
    time_period="quarterly",
    data_source=json.dumps(team_data),
    output_format="html"
)

# ç”Ÿæˆéƒ¨é—¨HTMLæŠ¥å‘Š
dept_result = generate_efficiency_report(
    report_type="department",
    target_scope="ç ”å‘éƒ¨",
    time_period="quarterly",
    data_source=json.dumps(dept_data),
    output_format="html"
)

# ç”Ÿæˆå…¬å¸HTMLæŠ¥å‘Š
company_result = generate_efficiency_report(
    report_type="company",
    target_scope="å…¨å…¬å¸",
    time_period="quarterly",
    data_source=json.dumps(company_data),
    output_format="html"
)
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
5_hr_efficiency_mcp/
â”œâ”€â”€ zhishui_efficiency_mcp.py      # ä¸»æœåŠ¡æ–‡ä»¶ï¼ˆå«HTMLæŠ¥å‘ŠåŠŸèƒ½ï¼‰
â”‚   â”œâ”€â”€ @mcp.tool()è£…é¥°å™¨         # MCPå·¥å…·æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ å¹³è¡¡è®¡åˆ†å¡è¯„ä¼°å¼•æ“         # æ ¸å¿ƒè¯„ä¼°ç®—æ³•
â”‚   â”œâ”€â”€ å¤šæ ¼å¼æ•°æ®è§£æå™¨           # JSON/CSV/å­—å…¸æ™ºèƒ½è§£æ
â”‚   â”œâ”€â”€ HTMLæŠ¥å‘Šç”Ÿæˆå™¨             # äº¤äº’å¼æŠ¥å‘Šç”Ÿæˆ
â”‚   â””â”€â”€ Plotlyå›¾è¡¨é…ç½®             # æ•°æ®å¯è§†åŒ–é…ç½®
â”œâ”€â”€ test_data.json                 # æµ‹è¯•æ•°æ®ï¼ˆå‘˜å·¥ä¿¡æ¯+æŒ‡æ ‡æ•°æ®ï¼‰
â”œâ”€â”€ test_mcp_service.py           # åŸºç¡€åŠŸèƒ½æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ å‘˜å·¥æ•ˆèƒ½è¯„ä¼°æµ‹è¯•           # evaluate_employee_efficiencyæµ‹è¯•
â”‚   â””â”€â”€ æŠ¥å‘Šç”Ÿæˆæµ‹è¯•              # generate_efficiency_reportæµ‹è¯•
â”œâ”€â”€ test_html_report.py           # HTMLæŠ¥å‘ŠåŠŸèƒ½æµ‹è¯•è„šæœ¬ ğŸ†•
â”‚   â”œâ”€â”€ ä¸ªäººHTMLæŠ¥å‘Šæµ‹è¯•          # individual HTMLæŠ¥å‘Šç”Ÿæˆ
â”‚   â”œâ”€â”€ å›¢é˜ŸHTMLæŠ¥å‘Šæµ‹è¯•          # team HTMLæŠ¥å‘Šç”Ÿæˆ
â”‚   â”œâ”€â”€ éƒ¨é—¨HTMLæŠ¥å‘Šæµ‹è¯•          # department HTMLæŠ¥å‘Šç”Ÿæˆ
â”‚   â””â”€â”€ å…¬å¸HTMLæŠ¥å‘Šæµ‹è¯•          # company HTMLæŠ¥å‘Šç”Ÿæˆ
â”œâ”€â”€ demo_html_report.py           # HTMLæŠ¥å‘Šäº¤äº’å¼æ¼”ç¤º ğŸ†•
â”‚   â”œâ”€â”€ å®æ—¶æŠ¥å‘Šç”Ÿæˆæ¼”ç¤º          # åŠ¨æ€ç”Ÿæˆäº¤äº’å¼æŠ¥å‘Š
â”‚   â””â”€â”€ æµè§ˆå™¨é¢„è§ˆåŠŸèƒ½            # è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨é¢„è§ˆ
â”œâ”€â”€ start_mcp_server.py           # MCPæœåŠ¡å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ FastMCPæœåŠ¡å™¨é…ç½®         # ç«¯å£8004ï¼ŒæœåŠ¡åç§°é…ç½®
â”‚   â””â”€â”€ æ—¥å¿—ç³»ç»Ÿåˆå§‹åŒ–            # ç»“æ„åŒ–æ—¥å¿—è®°å½•
â”œâ”€â”€ reports/                      # HTMLæŠ¥å‘Šè¾“å‡ºç›®å½• ğŸ†•
â”‚   â”œâ”€â”€ individual/                # ä¸ªäººæ•ˆèƒ½æŠ¥å‘Šå­ç›®å½•
â”‚   â”‚   â”œâ”€â”€ [å‘˜å·¥ID]_ä¸ªäººæ•ˆèƒ½æŠ¥å‘Š_[æ—¥æœŸ].html
â”‚   â”‚   â””â”€â”€ assets/               # é™æ€èµ„æºï¼ˆPlotly.js, CSSï¼‰
â”‚   â”œâ”€â”€ team/                     # å›¢é˜Ÿæ•ˆèƒ½æŠ¥å‘Šå­ç›®å½•
â”‚   â”‚   â”œâ”€â”€ [å›¢é˜Ÿå]_å›¢é˜Ÿæ•ˆèƒ½æŠ¥å‘Š_[æ—¥æœŸ].html
â”‚   â”‚   â””â”€â”€ assets/
â”‚   â”œâ”€â”€ department/               # éƒ¨é—¨æ•ˆèƒ½æŠ¥å‘Šå­ç›®å½•
â”‚   â”‚   â”œâ”€â”€ [éƒ¨é—¨å]_éƒ¨é—¨æ•ˆèƒ½æŠ¥å‘Š_[æ—¥æœŸ].html
â”‚   â”‚   â””â”€â”€ assets/
â”‚   â””â”€â”€ company/                  # å…¬å¸æ•´ä½“æŠ¥å‘Šå­ç›®å½•
â”‚       â”œâ”€â”€ [å…¬å¸å]_å…¬å¸æ•ˆèƒ½æŠ¥å‘Š_[æ—¥æœŸ].html
â”‚       â””â”€â”€ assets/
â”œâ”€â”€ README.md                     # é¡¹ç›®è¯´æ˜æ–‡æ¡£ï¼ˆæŠ€æœ¯è¯¦ç»†ç‰ˆï¼‰
â”œâ”€â”€ logs/                         # æ—¥å¿—ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ efficiency_service.log     # ä¸»æœåŠ¡æ—¥å¿—æ–‡ä»¶
â”‚   â””â”€â”€ error.log                 # é”™è¯¯æ—¥å¿—æ–‡ä»¶
â””â”€â”€ config/                       # é…ç½®æ–‡ä»¶ç›®å½•ï¼ˆå¯é€‰ï¼‰
    â”œâ”€â”€ position_weights.json      # å²—ä½æƒé‡é…ç½®
    â””â”€â”€ scoring_standards.json     # è¯„åˆ†æ ‡å‡†é…ç½®
```

### æ ¸å¿ƒä»£ç æ¨¡å—è¯´æ˜

#### 1. ä¸»æœåŠ¡æ¨¡å— (`zhishui_efficiency_mcp.py`)
- **ä»£ç è¡Œæ•°**ï¼šçº¦1800è¡Œ
- **æ ¸å¿ƒç±»**ï¼š`BalancedScorecardEngine`, `MultiFormatDataParser`, `HTMLReportGenerator`
- **MCPå·¥å…·**ï¼š2ä¸ªä¸»è¦å·¥å…·æ¥å£
- **ä¾èµ–åº“**ï¼šfastmcp, pandas, numpy, plotly, datetime, logging

#### 2. æ•°æ®è§£ææ¨¡å—
- **æ™ºèƒ½æ ¼å¼è¯†åˆ«**ï¼šè‡ªåŠ¨è¯†åˆ«JSONå­—ç¬¦ä¸²ã€CSVæ–‡ä»¶ã€å­—å…¸å¯¹è±¡
- **æ•°æ®éªŒè¯æœºåˆ¶**ï¼šå®Œæ•´æ€§æ£€æŸ¥ã€æ ¼å¼éªŒè¯ã€ä¸šåŠ¡è§„åˆ™æ ¡éªŒ
- **é”™è¯¯å¤„ç†**ï¼šè¯¦ç»†çš„å¼‚å¸¸æ•è·å’Œå‹å¥½çš„é”™è¯¯ä¿¡æ¯è¿”å›

#### 3. è¯„ä¼°ç®—æ³•æ¨¡å—
- **å››ç»´åº¦è¯„ä¼°**ï¼šç»æµã€å®¢æˆ·ã€æµç¨‹ã€å­¦ä¹ æˆé•¿
- **åŠ¨æ€æƒé‡ç³»ç»Ÿ**ï¼šæŒ‰å²—ä½ç±»å‹è‡ªåŠ¨è°ƒæ•´æƒé‡æ¯”ä¾‹
- **æ ‡å‡†åŒ–ç®—æ³•**ï¼š0-100åˆ†æ ‡å‡†åŒ–è¯„åˆ†
- **ç­‰çº§è¯„å®š**ï¼šäº”çº§æ•ˆèƒ½ç­‰çº§åˆ’åˆ†

#### 4. HTMLæŠ¥å‘Šæ¨¡å—
- **Plotlyé›†æˆ**ï¼šä¸“ä¸šçº§äº¤äº’å¼å›¾è¡¨
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **æ¨¡æ¿å¼•æ“**ï¼šåŠ¨æ€HTMLæ¨¡æ¿æ¸²æŸ“
- **æœ¬åœ°æ–‡ä»¶ç®¡ç†**ï¼šè‡ªåŠ¨ç›®å½•åˆ›å»ºå’Œæ–‡ä»¶ä¿å­˜

## ğŸ”§ é…ç½®è¯´æ˜

### æƒé‡é…ç½®

æœåŠ¡æ”¯æŒä¸åŒå²—ä½ç±»å‹çš„å·®å¼‚åŒ–æƒé‡é…ç½®ï¼š

- **ç”Ÿäº§è¿ç»´**ï¼šç»æµ40% + å®¢æˆ·30% + æµç¨‹25% + å­¦ä¹ 5%
- **å®¢æˆ·æœåŠ¡**ï¼šå®¢æˆ·40% + æµç¨‹25% + ç»æµ25% + å­¦ä¹ 10%
- **æŠ€æœ¯ç ”å‘**ï¼šå­¦ä¹ 30% + ç»æµ30% + æµç¨‹25% + å®¢æˆ·15%
- **ç®¡ç†å²—ä½**ï¼šç»æµ30% + æµç¨‹30% + å®¢æˆ·25% + å­¦ä¹ 15%

### è¯„åˆ†æ ‡å‡†

- **90-100åˆ†**ï¼šä¼˜ç§€
- **80-89åˆ†**ï¼šè‰¯å¥½
- **70-79åˆ†**ï¼šåˆæ ¼
- **60-69åˆ†**ï¼šå¾…æé«˜
- **60åˆ†ä»¥ä¸‹**ï¼šéœ€æ”¹è¿›

## ğŸ§ª æµ‹è¯•ç»“æœ

æœ€æ–°æµ‹è¯•ç»“æœï¼š
- âœ… å‘˜å·¥æ•ˆèƒ½è¯„ä¼°åŠŸèƒ½
- âœ… ä¸ªäººæ•ˆèƒ½æŠ¥å‘Šç”Ÿæˆï¼ˆMarkdownï¼‰
- âœ… å›¢é˜Ÿæ•ˆèƒ½æŠ¥å‘Šç”Ÿæˆï¼ˆMarkdownï¼‰
- âœ… éƒ¨é—¨æ•ˆèƒ½æŠ¥å‘Šç”Ÿæˆï¼ˆMarkdownï¼‰
- âœ… å…¬å¸æ•´ä½“æŠ¥å‘Šç”Ÿæˆï¼ˆMarkdownï¼‰
- âœ… ä¸ªäººæ•ˆèƒ½HTMLæŠ¥å‘Šç”Ÿæˆ ğŸ†•
- âœ… å›¢é˜Ÿæ•ˆèƒ½HTMLæŠ¥å‘Šç”Ÿæˆ ğŸ†•
- âœ… éƒ¨é—¨æ•ˆèƒ½HTMLæŠ¥å‘Šç”Ÿæˆ ğŸ†•
- âœ… å…¬å¸æ•´ä½“HTMLæŠ¥å‘Šç”Ÿæˆ ğŸ†•
- âœ… äº¤äº’å¼å›¾è¡¨åŠŸèƒ½ ğŸ†•
- âœ… æµè§ˆå™¨è‡ªåŠ¨é¢„è§ˆ ğŸ†•
- âœ… é”™è¯¯å¤„ç†æœºåˆ¶

**æµ‹è¯•é€šè¿‡ç‡ï¼š11/11 (100%)**

### HTMLæŠ¥å‘Šæµ‹è¯•ç¤ºä¾‹

```bash
# æµ‹è¯•ä¸ªäººHTMLæŠ¥å‘Š
python -c "from zhishui_efficiency_mcp import generate_efficiency_report; import json; print(generate_efficiency_report('individual', '[å‘˜å·¥ID]', 'quarterly', json.dumps({}), 'html'))"

# æµ‹è¯•å›¢é˜ŸHTMLæŠ¥å‘Š
python -c "from zhishui_efficiency_mcp import generate_efficiency_report; import json; print(generate_efficiency_report('team', 'æŠ€æœ¯å›¢é˜Ÿ', 'quarterly', json.dumps({}), 'html'))"

# è¿è¡Œå®Œæ•´HTMLæµ‹è¯•å¥—ä»¶
python test_html_report.py
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å¯¼å…¥é”™è¯¯**
   ```
   è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿åœ¨æ­£ç¡®ç›®å½•ä¸‹è¿è¡Œï¼Œæ£€æŸ¥Pythonè·¯å¾„
   ```

2. **JSONæ ¼å¼é”™è¯¯**
   ```
   è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥è¾“å…¥æ•°æ®çš„JSONæ ¼å¼æ˜¯å¦æ­£ç¡®
   ```

3. **å²—ä½ç±»å‹ä¸æ”¯æŒ**
   ```
   è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æ”¯æŒçš„å²—ä½ç±»å‹ï¼šç”Ÿäº§è¿ç»´ã€å®¢æˆ·æœåŠ¡ã€æŠ€æœ¯ç ”å‘ã€ç®¡ç†å²—ä½
   ```

### æ—¥å¿—æŸ¥çœ‹

æœåŠ¡è¿è¡Œæ—¶ä¼šç”Ÿæˆè¯¦ç»†æ—¥å¿—ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹ï¼š

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f logs/efficiency_service.log
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **å¼€å‘å›¢é˜Ÿ**ï¼šå››å·æ™ºæ°´ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸
- **æŠ€æœ¯æ”¯æŒ**ï¼šå•†æµ·æ˜Ÿè¾°é˜Ÿ
- **æœåŠ¡çƒ­çº¿**ï¼šå•†æµ·æ˜Ÿè¾°é˜Ÿ
- **é‚®ç®±æ”¯æŒ**ï¼šsupport@zhishui.com

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºå››å·æ™ºæ°´ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸å†…éƒ¨ä½¿ç”¨ï¼Œç‰ˆæƒæ‰€æœ‰ã€‚

---

*æœ€åæ›´æ–°ï¼š2024å¹´12æœˆ*