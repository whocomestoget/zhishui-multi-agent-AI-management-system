# æ™ºæ°´ä¿¡æ¯Multi-Agent AIæ™ºæ…§ç®¡ç†ç³»ç»Ÿ

## ğŸš€ é¡¹ç›®æ¦‚è¿°

æ™ºæ°´ä¿¡æ¯Multi-Agent AIæ™ºæ…§ç®¡ç†ç³»ç»Ÿæ˜¯ä¸“ä¸ºå››å·æ™ºæ°´ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸è®¾è®¡çš„AIé©±åŠ¨æ™ºæ…§ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚ç³»ç»Ÿé‡‡ç”¨å…ˆè¿›çš„Multi-Agentæ¶æ„ï¼Œé€šè¿‡Agnoæ¡†æ¶å®ç°å¤šæ™ºèƒ½ä½“åä½œï¼Œè§£å†³ä¼ä¸šåœ¨æ•°æ®åˆ†æ•£ã€æˆæœ¬ä¸é€æ˜ã€è´¢åŠ¡èƒ½åŠ›ä¸è¶³ã€è¿ç»´çŸ¥è¯†åˆ†æ•£ã€ç³»ç»Ÿå‰²è£‚ç­‰æ ¸å¿ƒç—›ç‚¹ã€‚

### ğŸ¯ æŠ€æœ¯å®šä½
- **AIåè°ƒä¸­å¿ƒ**ï¼šåŸºäºAgnoæ¡†æ¶çš„å¤šæ™ºèƒ½ä½“åè°ƒå™¨ï¼Œç»Ÿä¸€ç®¡ç†å„ä¸šåŠ¡AIæ¨¡å—
- **æ ‡å‡†åŒ–MCPå®¢æˆ·ç«¯**ï¼šå®ç°å‚æ•°ç»“æ„æ ‡å‡†åŒ–ï¼Œè§£å†³FastMCPå…¼å®¹æ€§é—®é¢˜
- **æ™ºèƒ½ä»»åŠ¡ç¼–æ’**ï¼šPlanner Agentå®ç°éœ€æ±‚ç†è§£ã€ä»»åŠ¡åˆ†è§£ã€æ‰§è¡Œè®¡åˆ’åˆ¶å®š
- **å¤šAgentåä½œ**ï¼šè´¢åŠ¡ã€æˆæœ¬ã€æ•ˆç‡ã€çŸ¥è¯†ç®¡ç†å››å¤§ä¸šåŠ¡AgentååŒå·¥ä½œ
- **ç»Ÿä¸€æŠ¥å‘Šç”Ÿæˆ**ï¼šReport Generator Agentæ•´åˆå¤šAgentç»“æœï¼Œç”Ÿæˆå¯è§†åŒ–HTMLæŠ¥å‘Š

### ğŸ¯ æ ¸å¿ƒä»·å€¼

- **æ•°æ®æ•´åˆ**ï¼šç»Ÿä¸€åˆ†æ•£çš„Excelæ•°æ®ï¼Œå»ºç«‹æ ‡å‡†åŒ–æ•°æ®ç®¡ç†ä½“ç³»
- **æˆæœ¬é€æ˜**ï¼šå®ç°é¡¹ç›®æˆæœ¬çš„ç²¾ç¡®æ ¸ç®—å’Œå®æ—¶ç›‘æ§
- **è´¢åŠ¡èµ‹èƒ½**ï¼šæä¾›AIé©±åŠ¨çš„è´¢åŠ¡åˆ†æå’Œæˆ˜ç•¥å†³ç­–æ”¯æŒ
- **çŸ¥è¯†ç®¡ç†**ï¼šæ„å»ºç»Ÿä¸€çš„è¿ç»´çŸ¥è¯†åº“å’ŒæŠ€èƒ½æ ‡å‡†ä½“ç³»
- **æ™ºèƒ½å†³ç­–**ï¼šåŸºäºå¤šç»´åº¦æ•°æ®åˆ†ææä¾›å†³ç­–æ”¯æŒ

### ğŸ¢ é€‚ç”¨åœºæ™¯

- **ç”µåŠ›è¡Œä¸š**ï¼šæ™ºæ…§ç”µå‚ã€æ™ºèƒ½ç”µç«™é¡¹ç›®ç®¡ç†
- **æ°´åˆ©è¡Œä¸š**ï¼šæ™ºæ…§æ°´åˆ©ã€å¤§åç›‘æµ‹é¡¹ç›®åˆ†æ
- **ä¼ä¸šç®¡ç†**ï¼šè´¢åŠ¡åˆ†æã€æˆæœ¬æ§åˆ¶ã€æ•ˆç‡ä¼˜åŒ–
- **çŸ¥è¯†ç®¡ç†**ï¼šæŠ€æœ¯æ–‡æ¡£æ ‡å‡†åŒ–ã€è¿ç»´çŸ¥è¯†åº“å»ºè®¾

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶æ¶æ„

```
æ™ºæ°´ä¿¡æ¯Multi-Agentç³»ç»Ÿ
â”œâ”€â”€ ğŸ§  Agnoåè°ƒä¸­å¿ƒ (standardized_mcp_client_v2.py)
â”‚   â”œâ”€â”€ æ ‡å‡†åŒ–MCPå®¢æˆ·ç«¯ - è§£å†³FastMCPå‚æ•°å…¼å®¹æ€§é—®é¢˜
â”‚   â”œâ”€â”€ å¤šAgentç”Ÿå‘½å‘¨æœŸç®¡ç† - ç»Ÿä¸€åˆ›å»ºã€è°ƒåº¦ã€ç›‘æ§
â”‚   â”œâ”€â”€ å‚æ•°ç»“æ„æ ‡å‡†åŒ– - è‡ªåŠ¨è¡¥å…¨ã€æ ¼å¼éªŒè¯ã€é”™è¯¯å¤„ç†
â”‚   â””â”€â”€ å·¥ä½œæµç¼–æ’å¼•æ“ - ä»»åŠ¡åˆ†è§£ã€ä¾èµ–ç®¡ç†ã€ç»“æœèšåˆ
â”œâ”€â”€ ğŸ“‹ è§„åˆ’æ™ºèƒ½ä½“ (planner_agent.py)
â”‚   â”œâ”€â”€ è‡ªç„¶è¯­è¨€æ„å›¾è¯†åˆ« - åŸºäºGemini-2.5-Proçš„æ™ºèƒ½ç†è§£
â”‚   â”œâ”€â”€ éœ€æ±‚åˆ†æä¸ä»»åŠ¡åˆ†è§£ - å¤æ‚éœ€æ±‚æ‹†åˆ†ä¸ºå¯æ‰§è¡Œä»»åŠ¡
â”‚   â”œâ”€â”€ æ•°æ®å®Œæ•´æ€§æ£€æŸ¥ - è‡ªåŠ¨è¯†åˆ«ç¼ºå¤±æ•°æ®å¹¶ç”Ÿæˆè¡¥å……è¯¢é—®
â”‚   â””â”€â”€ æ‰§è¡Œè®¡åˆ’åˆ¶å®š - Agentè°ƒåº¦é¡ºåºã€ä¾èµ–å…³ç³»ã€è¶…æ—¶æ§åˆ¶
â”œâ”€â”€ ğŸ’¼ ä¸šåŠ¡åˆ†ææ™ºèƒ½ä½“ç¾¤ (agents/)
â”‚   â”œâ”€â”€ ğŸ’° è´¢åŠ¡åˆ†æAgent (financial_agent.py) - ROEã€ROAã€ç°é‡‘æµåˆ†æ
â”‚   â”œâ”€â”€ ğŸ’¸ æˆæœ¬åˆ†æAgent (cost_agent.py) - æˆæœ¬ç»“æ„ã€é¢„ç®—æ‰§è¡Œåˆ†æ  
â”‚   â”œâ”€â”€ âš¡ æ•ˆç‡åˆ†æAgent (efficiency_agent.py) - äººå‘˜æ•ˆç‡ã€æµç¨‹ä¼˜åŒ–
â”‚   â””â”€â”€ ğŸ“š çŸ¥è¯†ç®¡ç†Agent (knowledge_agent.py) - çŸ¥è¯†åº“ã€æŠ€èƒ½è¯„ä¼°
â”œâ”€â”€ ğŸ“Š æŠ¥å‘Šç”Ÿæˆæ™ºèƒ½ä½“ (report_generator_agent.py)
â”‚   â”œâ”€â”€ å¤šAgentç»“æœèšåˆ - ç»Ÿä¸€æ•°æ®æ ¼å¼ã€å†²çªè§£å†³ã€æƒé‡è®¡ç®—
â”‚   â”œâ”€â”€ HTMLå¯è§†åŒ–æŠ¥å‘Š - Plotlyå›¾è¡¨ã€å“åº”å¼è®¾è®¡ã€äº¤äº’åŠŸèƒ½
â”‚   â”œâ”€â”€ å…³é”®æ´å¯Ÿæå– - æ ¸å¿ƒå‘ç°æ€»ç»“ã€è¡ŒåŠ¨å»ºè®®ã€é£é™©è¯†åˆ«
â”‚   â””â”€â”€ å¤šæ ¼å¼è¾“å‡º - HTMLã€Markdownã€JSONå¤šç§æ ¼å¼æ”¯æŒ
â””â”€â”€ âš™ï¸ ç³»ç»Ÿé…ç½®ä¸ç®¡ç†
    â”œâ”€â”€ é…ç½®ç®¡ç† (config.py) - AIæ¨¡å‹ã€ä¸šåŠ¡å‚æ•°ã€æ—¥å¿—é…ç½®
    â”œâ”€â”€ å·¥ä½œæµæ¨¡æ¿ (workflow_templates.py) - é¢„å®šä¹‰ä¸šåŠ¡æµç¨‹æ¨¡æ¿
    â”œâ”€â”€ ä¼šè¯å†å² (models/conversation_history.py) - å¯¹è¯çŠ¶æ€ç®¡ç†
    â””â”€â”€ ä¸»å¯åŠ¨ç¨‹åº (main.py) - FastAPIæœåŠ¡ã€å‘½ä»¤è¡Œæ¥å£
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **AIæ¡†æ¶**ï¼šAgno Multi-Agent Framework - å¤šæ™ºèƒ½ä½“åè°ƒç®¡ç†
- **AIæ¨¡å‹**ï¼šGemini-2.5-Pro (é€šè¿‡OpenAI APIå…¼å®¹æ¥å£è°ƒç”¨)
- **ç¼–ç¨‹è¯­è¨€**ï¼šPython 3.8+ - å¼‚æ­¥ç¼–ç¨‹æ”¯æŒ
- **å¼‚æ­¥å¤„ç†**ï¼šasyncio, aiohttp - é«˜å¹¶å‘Agentè°ƒåº¦
- **æ•°æ®å¤„ç†**ï¼špandas, numpy - ä¸šåŠ¡æ•°æ®åˆ†æå’Œå¤„ç†
- **æŠ¥å‘Šç”Ÿæˆ**ï¼šJinja2, Plotly - HTMLå¯è§†åŒ–æŠ¥å‘Šç”Ÿæˆ
- **é…ç½®ç®¡ç†**ï¼šPydantic, YAML - ç±»å‹å®‰å…¨çš„é…ç½®ç®¡ç†
- **WebæœåŠ¡**ï¼šFastAPI, uvicorn - RESTful APIæœåŠ¡
- **æ•°æ®å­˜å‚¨**ï¼šSQLite - ä¼šè¯å†å²å’Œä¸šåŠ¡æ•°æ®å­˜å‚¨
- **æ—¥å¿—ç³»ç»Ÿ**ï¼šlogging - ç»“æ„åŒ–æ—¥å¿—è®°å½•å’Œè¿½è¸ª

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Windows 10/11 æˆ– Linux/macOS
- è‡³å°‘ 4GB å¯ç”¨å†…å­˜
- ç¨³å®šçš„ç½‘ç»œè¿æ¥ï¼ˆç”¨äºAI APIè°ƒç”¨ï¼‰

### å®‰è£…æ­¥éª¤

1. **è¿›å…¥é¡¹ç›®ç›®å½•**
```bash
cd "d:\ç«èµ›\2025ä¼åˆ›\å†³èµ›\å››å·æ™ºæ°´AIæ™ºæ…§ç®¡ç†è§£å†³æ–¹æ¡ˆ\7_agno_coordinator"
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/macOS
source venv/bin/activate
```

3. **å®‰è£…æ ¸å¿ƒä¾èµ–**
```bash
pip install -r requirements.txt

# æ ¸å¿ƒä¾èµ–åŒ…ï¼š
# agno>=1.0.0 - Multi-Agentæ¡†æ¶
# openai>=1.0.0 - AIæ¨¡å‹è°ƒç”¨
# fastapi>=0.104.0 - WebæœåŠ¡æ¡†æ¶
# uvicorn>=0.24.0 - ASGIæœåŠ¡å™¨
# pydantic>=2.0.0 - æ•°æ®éªŒè¯
# pandas>=2.0.0 - æ•°æ®å¤„ç†
# plotly>=5.0.0 - å¯è§†åŒ–å›¾è¡¨
# jinja2>=3.0.0 - HTMLæ¨¡æ¿å¼•æ“
```

4. **éªŒè¯ç³»ç»Ÿå®‰è£…**
```bash
# éªŒè¯Agnoæ¡†æ¶
python -c "import agno; print('âœ… Agnoæ¡†æ¶å®‰è£…æˆåŠŸ')"

# éªŒè¯AIæ¨¡å‹è¿æ¥
python -c "from config import get_ai_config; print('âœ… AIé…ç½®åŠ è½½æˆåŠŸ')"

# éªŒè¯æ‰€æœ‰Agent
python -c "from agents.base_agent import BaseAgent; print('âœ… AgentåŸºç±»åŠ è½½æˆåŠŸ')"
```

### é…ç½®ç³»ç»Ÿ

ç³»ç»Ÿå·²é¢„é…ç½®AI APIå¯†é’¥ï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯ä½¿ç”¨ã€‚å¦‚éœ€è‡ªå®šä¹‰é…ç½®ï¼Œå¯ä¿®æ”¹ `config.py` æ–‡ä»¶ï¼š

```python
# AIé…ç½®å·²å†…ç½®ï¼Œæ”¯æŒä»¥ä¸‹æ¨¡å‹
AI_CONFIG = {
    "api_key": "sk-bwYd3WFPwE5dQrhIL1UpuTkf9wjq3bazraPDUAiJPSNN3wVE",
    "api_base": "https://xi.apicenter.top/v1",
    "model": "gemini-2.5-pro",
    "temperature": 0.7
}
```

## ğŸ’» ä½¿ç”¨æŒ‡å—

### å¯åŠ¨ç³»ç»Ÿ

#### 1. äº¤äº’æ¨¡å¼ï¼ˆæ¨èï¼‰
```bash
python main.py --mode interactive
```

å¯åŠ¨åå¯ä»¥ç›´æ¥è¾“å…¥åˆ†æéœ€æ±‚ï¼š
```
ğŸ’¬ è¯·è¾“å…¥åˆ†æéœ€æ±‚: åˆ†ææˆ‘ä»¬å…¬å¸2024å¹´çš„è´¢åŠ¡çŠ¶å†µ
ğŸ’¬ è¯·è¾“å…¥åˆ†æéœ€æ±‚: è¯„ä¼°æ™ºæ…§ç”µå‚é¡¹ç›®çš„æˆæœ¬æ§åˆ¶æƒ…å†µ
ğŸ’¬ è¯·è¾“å…¥åˆ†æéœ€æ±‚: å¦‚ä½•æå‡è¿ç»´å›¢é˜Ÿçš„æŠ€èƒ½æ ‡å‡†åŒ–
```

#### 2. å•æ¬¡åˆ†ææ¨¡å¼
```bash
python main.py --mode analysis --analysis "åˆ†æè´¢åŠ¡çŠ¶å†µ" --output report.html
```

#### 3. æ¼”ç¤ºæ¨¡å¼
```bash
python main.py --mode demo
```

### å¯ç”¨å·¥ä½œæµ

#### 1. ç»¼åˆç®¡ç†åˆ†æ (comprehensive_analysis)
- **é€‚ç”¨åœºæ™¯**ï¼šå…¨é¢çš„ä¼ä¸šç®¡ç†åˆ†æ
- **åˆ†æç»´åº¦**ï¼šè´¢åŠ¡ã€æˆæœ¬ã€æ•ˆç‡ã€çŸ¥è¯†ç®¡ç†
- **è¾“å‡º**ï¼šå¤šç»´åº¦ç»¼åˆåˆ†ææŠ¥å‘Š

#### 2. è´¢åŠ¡ä¸“é¡¹åˆ†æ (financial_focus)
- **é€‚ç”¨åœºæ™¯**ï¼šä¸“é¡¹è´¢åŠ¡å¥åº·åº¦è¯„ä¼°
- **åˆ†æç»´åº¦**ï¼šè´¢åŠ¡æŒ‡æ ‡ã€æˆæœ¬å…³è”åˆ†æ
- **è¾“å‡º**ï¼šä¸“ä¸šè´¢åŠ¡åˆ†ææŠ¥å‘Š

#### 3. æˆæœ¬æ•ˆç‡åˆ†æ (cost_efficiency_analysis)
- **é€‚ç”¨åœºæ™¯**ï¼šæˆæœ¬æ§åˆ¶å’Œæ•ˆç‡ä¼˜åŒ–
- **åˆ†æç»´åº¦**ï¼šæˆæœ¬ç»“æ„ã€è¿è¥æ•ˆç‡ã€çŸ¥è¯†ç®¡ç†
- **è¾“å‡º**ï¼šæˆæœ¬æ•ˆç‡ä¼˜åŒ–æŠ¥å‘Š

### å‘½ä»¤è¡Œé€‰é¡¹

```bash
python main.py [é€‰é¡¹]

é€‰é¡¹ï¼š
  --mode {interactive,api,demo,analysis}  è¿è¡Œæ¨¡å¼ (é»˜è®¤: interactive)
  --port PORT                            APIæœåŠ¡ç«¯å£ (é»˜è®¤: 8000)
  --analysis ANALYSIS                    è¦æ‰§è¡Œçš„åˆ†æä»»åŠ¡æè¿°
  --workflow {comprehensive_analysis,financial_focus,cost_efficiency_analysis}
                                        å·¥ä½œæµç±»å‹ (é»˜è®¤: comprehensive_analysis)
  --output OUTPUT                       ç»“æœè¾“å‡ºæ–‡ä»¶è·¯å¾„
  --verbose                             è¯¦ç»†è¾“å‡ºæ¨¡å¼
  --help                                æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### ğŸ§  æ™ºèƒ½è§„åˆ’Agent (planner_agent.py)
- **è‡ªç„¶è¯­è¨€ç†è§£**ï¼šåŸºäºGemini-2.5-Proçš„æ„å›¾è¯†åˆ«å’Œè¯­ä¹‰åˆ†æ
- **éœ€æ±‚åˆ†æä¸åˆ†è§£**ï¼šå¤æ‚ä¸šåŠ¡éœ€æ±‚æ‹†åˆ†ä¸ºå¯æ‰§è¡Œçš„åˆ†æä»»åŠ¡
- **æ•°æ®å®Œæ•´æ€§æ£€æŸ¥**ï¼šè‡ªåŠ¨è¯†åˆ«ç¼ºå¤±æ•°æ®ï¼Œç”Ÿæˆè¡¥å……æ•°æ®è¯¢é—®
- **æ‰§è¡Œè®¡åˆ’åˆ¶å®š**ï¼šAgentè°ƒåº¦é¡ºåºã€ä¾èµ–å…³ç³»ã€å¹¶è¡Œæ‰§è¡Œç­–ç•¥
- **äººæœºäº¤äº’ç®¡ç†**ï¼šå¤šè½®å¯¹è¯çŠ¶æ€ç»´æŠ¤ï¼Œä¸Šä¸‹æ–‡ç†è§£

**æ ¸å¿ƒæŠ€æœ¯å®ç°**ï¼š
```python
class PlannerAgent:
    def analyze_requirement(self, user_input: str) -> Dict[str, Any]:
        """éœ€æ±‚åˆ†ææ ¸å¿ƒç®—æ³•"""
        # 1. æ„å›¾è¯†åˆ« - ä½¿ç”¨Geminiæ¨¡å‹è¿›è¡Œè¯­ä¹‰ç†è§£
        intent = self._extract_intent_with_ai(user_input)
        
        # 2. å®ä½“æå– - è¯†åˆ«å…³é”®ä¸šåŠ¡å®ä½“
        entities = self._extract_entities(user_input)
        
        # 3. ä»»åŠ¡åˆ†è§£ - æ‹†åˆ†ä¸ºå­åˆ†æä»»åŠ¡
        sub_tasks = self._decompose_task(intent, entities)
        
        # 4. æ•°æ®éœ€æ±‚åˆ†æ - è¯†åˆ«æ‰€éœ€æ•°æ®ç±»å‹
        data_requirements = self._analyze_data_needs(sub_tasks)
        
        return {
            "intent": intent,
            "entities": entities,
            "sub_tasks": sub_tasks,
            "data_requirements": data_requirements
        }
```

### ğŸ”§ æ ‡å‡†åŒ–MCPå®¢æˆ·ç«¯ (standardized_mcp_client_v2.py)
- **å‚æ•°ç»“æ„æ ‡å‡†åŒ–**ï¼šè§£å†³FastMCPä¸åŒç‰ˆæœ¬çš„å‚æ•°å…¼å®¹æ€§é—®é¢˜
- **æ™ºèƒ½å‚æ•°è¡¥å…¨**ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶è¡¥å…¨ç¼ºå¤±çš„å¿…éœ€å‚æ•°å­—æ®µ
- **å¤šæ ¼å¼æ•°æ®æ”¯æŒ**ï¼šæ”¯æŒJSONå­—ç¬¦ä¸²ã€å­—å…¸å¯¹è±¡ã€æ–‡ä»¶è·¯å¾„ç­‰å¤šç§è¾“å…¥
- **é”™è¯¯å¤„ç†ä¼˜åŒ–**ï¼šè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œè‡ªåŠ¨æ¢å¤æœºåˆ¶
- **Agentç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šç»Ÿä¸€åˆ›å»ºã€å¯åŠ¨ã€ç›‘æ§ã€é”€æ¯æµç¨‹

**æ ¸å¿ƒæŠ€æœ¯å®ç°**ï¼š
```python
class StandardizedMCPClient:
    def standardize_parameters(self, tool_name: str, params: Dict[str, Any]) -> Dict[str, Any]:
        """å‚æ•°æ ‡å‡†åŒ–æ ¸å¿ƒç®—æ³•"""
        # 1. è·å–å·¥å…·å®šä¹‰å’Œå‚æ•°è¦æ±‚
        tool_definition = self._get_tool_definition(tool_name)
        required_params = tool_definition.get("required_params", [])
        
        # 2. å‚æ•°å®Œæ•´æ€§æ£€æŸ¥
        missing_params = self._check_missing_params(params, required_params)
        
        # 3. è‡ªåŠ¨å‚æ•°è¡¥å…¨
        completed_params = self._auto_complete_params(params, missing_params)
        
        # 4. å‚æ•°æ ¼å¼éªŒè¯å’Œè½¬æ¢
        standardized_params = self._validate_and_convert_params(completed_params)
        
        return standardized_params
    
    def execute_with_retry(self, tool_name: str, params: Dict[str, Any], max_retries: int = 3) -> Any:
        """å¸¦é‡è¯•çš„æ‰§è¡Œæœºåˆ¶"""
        for attempt in range(max_retries):
            try:
                # å‚æ•°æ ‡å‡†åŒ–
                standardized_params = self.standardize_parameters(tool_name, params)
                
                # æ‰§è¡Œå·¥å…·è°ƒç”¨
                result = self._execute_tool(tool_name, standardized_params)
                
                return result
                
            except Exception as e:
                if attempt < max_retries - 1:
                    # æ™ºèƒ½é”™è¯¯æ¢å¤
                    recovery_action = self._analyze_error_and_recover(e, params)
                    if recovery_action:
                        params = recovery_action
                        continue
                
                # æœ€åä¸€æ¬¡å°è¯•å¤±è´¥ï¼ŒæŠ›å‡ºå¼‚å¸¸
                raise RuntimeError(f"å·¥å…·æ‰§è¡Œå¤±è´¥: {tool_name}, é”™è¯¯: {str(e)}")
```

### ğŸ’° è´¢åŠ¡åˆ†æAgent (agents/financial_agent.py)
- **ç›ˆåˆ©èƒ½åŠ›åˆ†æ**ï¼šROEã€ROAã€æ¯›åˆ©ç‡ã€å‡€åˆ©ç‡ç­‰å…³é”®è´¢åŠ¡æŒ‡æ ‡
- **å¿å€ºèƒ½åŠ›è¯„ä¼°**ï¼šæµåŠ¨æ¯”ç‡ã€é€ŸåŠ¨æ¯”ç‡ã€èµ„äº§è´Ÿå€ºç‡ã€åˆ©æ¯ä¿éšœå€æ•°
- **è¿è¥æ•ˆç‡è¯„ä»·**ï¼šæ€»èµ„äº§å‘¨è½¬ç‡ã€å­˜è´§å‘¨è½¬ç‡ã€åº”æ”¶è´¦æ¬¾å‘¨è½¬ç‡
- **è´¢åŠ¡é£é™©è¯†åˆ«**ï¼šç°é‡‘æµé£é™©ã€å€ºåŠ¡ç»“æ„é£é™©ã€æµåŠ¨æ€§é£é™©
- **è¶‹åŠ¿åˆ†æå’Œé¢„æµ‹**ï¼šåŸºäºå†å²æ•°æ®çš„è´¢åŠ¡è¶‹åŠ¿é¢„æµ‹

### ğŸ’¸ æˆæœ¬åˆ†æAgent (agents/cost_agent.py)
- **æˆæœ¬ç»“æ„åˆ†è§£**ï¼šç›´æ¥æˆæœ¬ã€é—´æ¥æˆæœ¬ã€å›ºå®šæˆæœ¬ã€å˜åŠ¨æˆæœ¬åˆ†æ
- **æˆæœ¬æ§åˆ¶è¯„ä¼°**ï¼šé¢„ç®—æ‰§è¡Œæƒ…å†µã€æˆæœ¬åå·®åˆ†æã€è¶…æ”¯åŸå› è¯†åˆ«
- **æˆæœ¬é¢„æµ‹å»ºæ¨¡**ï¼šåŸºäºå†å²æ•°æ®å’Œä¸šåŠ¡è®¡åˆ’çš„æˆæœ¬è¶‹åŠ¿é¢„æµ‹
- **æˆæœ¬ä¼˜åŒ–å»ºè®®**ï¼šæˆæœ¬å‰Šå‡æœºä¼šè¯†åˆ«ã€æ•ˆç‡æå‡æ–¹æ¡ˆã€èµ„æºé…ç½®ä¼˜åŒ–
- **é¡¹ç›®æˆæœ¬æ ¸ç®—**ï¼šé¡¹ç›®çº§åˆ«çš„æˆæœ¬å½’é›†ã€åˆ†æ‘Šã€ç›ˆäºåˆ†æ

### âš¡ æ•ˆç‡åˆ†æAgent (agents/efficiency_agent.py)
- **äººå‘˜æ•ˆç‡è¯„ä¼°**ï¼šäººå‡äº§å€¼ã€åŠ³åŠ¨ç”Ÿäº§ç‡ã€äººåŠ›æˆæœ¬å æ¯”åˆ†æ
- **æµç¨‹æ•ˆç‡ä¼˜åŒ–**ï¼šä¸šåŠ¡æµç¨‹ç“¶é¢ˆè¯†åˆ«ã€æµç¨‹å‘¨æœŸåˆ†æã€ä¼˜åŒ–å»ºè®®
- **èµ„æºåˆ©ç”¨åˆ†æ**ï¼šè®¾å¤‡åˆ©ç”¨ç‡ã€ç©ºé—´åˆ©ç”¨ç‡ã€èµ„äº§é…ç½®æ•ˆç‡
- **æ•ˆç‡æå‡å»ºè®®**ï¼šåŸºäºæ•°æ®çš„ä¼˜åŒ–æ–¹æ¡ˆã€æœ€ä½³å®è·µæ¨èã€æ”¹è¿›è·¯å¾„
- **å¤šç»´åº¦æ•ˆç‡å¯¹æ¯”**ï¼šéƒ¨é—¨é—´ã€æœŸé—´é—´ã€è¡Œä¸šåŸºå‡†å¯¹æ¯”åˆ†æ

### ğŸ“š çŸ¥è¯†ç®¡ç†Agent (agents/knowledge_agent.py)
- **çŸ¥è¯†åº“å»ºè®¾**ï¼šæŠ€æœ¯æ–‡æ¡£æ ‡å‡†åŒ–ã€çŸ¥è¯†ä½“ç³»æ¶æ„è®¾è®¡ã€åˆ†ç±»ç®¡ç†
- **æŠ€èƒ½è¯„ä¼°åˆ†æ**ï¼šå›¢é˜ŸæŠ€èƒ½å·®è·åˆ†æã€èƒ½åŠ›çŸ©é˜µæ„å»ºã€åŸ¹è®­éœ€æ±‚è¯†åˆ«
- **åŸ¹è®­è§„åˆ’åˆ¶å®š**ï¼šä¸ªæ€§åŒ–åŸ¹è®­æ–¹æ¡ˆã€å­¦ä¹ è·¯å¾„è®¾è®¡ã€æ•ˆæœè¯„ä¼°æœºåˆ¶
- **çŸ¥è¯†å…±äº«æ¨å¹¿**ï¼šæœ€ä½³å®è·µæå–ã€ç»éªŒæ€»ç»“ã€çŸ¥è¯†ä¼ æ’­æœºåˆ¶
- **æ™ºèƒ½åŒ–çŸ¥è¯†æ¨è**ï¼šåŸºäºä¸šåŠ¡åœºæ™¯çš„çŸ¥è¯†æ¨èã€ä¸“å®¶åŒ¹é…

### ğŸ“Š æŠ¥å‘Šç”ŸæˆAgent (report_generator_agent.py)
- **å¤šAgentç»“æœèšåˆ**ï¼šç»Ÿä¸€æ•°æ®æ ¼å¼ã€å†²çªè§£å†³ã€æƒé‡è®¡ç®—ã€ç½®ä¿¡åº¦è¯„ä¼°
- **HTMLå¯è§†åŒ–æŠ¥å‘Š**ï¼šPlotlyäº¤äº’å¼å›¾è¡¨ã€å“åº”å¼è®¾è®¡ã€ç°ä»£åŒ–UI
- **å…³é”®æ´å¯Ÿæå–**ï¼šæ ¸å¿ƒå‘ç°æ€»ç»“ã€è¡ŒåŠ¨å»ºè®®ã€é£é™©è¯†åˆ«ã€æœºä¼šå‘ç°
- **å¤šæ ¼å¼è¾“å‡ºæ”¯æŒ**ï¼šHTMLã€Markdownã€JSONã€PDFå¤šç§æ ¼å¼
- **æŠ¥å‘Šæ¨¡æ¿ç®¡ç†**ï¼šå¯é…ç½®çš„æŠ¥å‘Šæ¨¡æ¿ã€è‡ªå®šä¹‰æ ·å¼ã€å“ç‰ŒåŒ–é€‰é¡¹

## ğŸ”§ æ ¸å¿ƒæŠ€æœ¯å®ç°æµç¨‹

### 1. å¤šAgentåä½œæ‰§è¡Œæµç¨‹

```
ç”¨æˆ·è¯·æ±‚ â†’ Planner Agent â†’ éœ€æ±‚åˆ†æ â†’ ä»»åŠ¡åˆ†è§£ â†’ Agentè°ƒåº¦ â†’ å¹¶è¡Œæ‰§è¡Œ â†’ ç»“æœèšåˆ â†’ æŠ¥å‘Šç”Ÿæˆ
    â†“         â†“           â†“         â†“         â†“         â†“         â†“         â†“
 è‡ªç„¶è¯­è¨€   æ„å›¾è¯†åˆ«    å®ä½“æå–   å­ä»»åŠ¡    Agenté€‰æ‹©  å¼‚æ­¥æ‰§è¡Œ   æ•°æ®æ•´åˆ   HTMLæŠ¥å‘Š
           è¯­ä¹‰ç†è§£    æ•°æ®éœ€æ±‚   ä¾èµ–å…³ç³»   å‚æ•°æ ‡å‡†åŒ–  ç»“æœæ”¶é›†   å¯è§†åŒ–
```

### 2. æ ‡å‡†åŒ–MCPå®¢æˆ·ç«¯æ‰§è¡Œæœºåˆ¶

```python
class AgnoCoordinator:
    def coordinate_analysis(self, user_request: str, workflow_type: str) -> Dict[str, Any]:
        """åè°ƒå™¨æ ¸å¿ƒæ‰§è¡Œæµç¨‹"""
        
        # 1. Planner Agent - éœ€æ±‚ç†è§£å’Œä»»åŠ¡è§„åˆ’
        plan_result = self.planner_agent.analyze_requirement(user_request)
        
        # 2. å‚æ•°æ ‡å‡†åŒ– - è§£å†³FastMCPå…¼å®¹æ€§é—®é¢˜
        standardized_tasks = []
        for task in plan_result["sub_tasks"]:
            standardized_task = self.mcp_client.standardize_parameters(
                task["tool_name"], task["parameters"]
            )
            standardized_tasks.append(standardized_task)
        
        # 3. Agentè°ƒåº¦ - å¹¶è¡Œæ‰§è¡Œä¼˜åŒ–
        agent_results = await self._execute_agents_parallel(standardized_tasks)
        
        # 4. ç»“æœèšåˆ - å¤šAgentç»“æœæ•´åˆ
        aggregated_results = self._aggregate_agent_results(agent_results)
        
        # 5. æŠ¥å‘Šç”Ÿæˆ - HTMLå¯è§†åŒ–æŠ¥å‘Š
        final_report = self.report_generator.generate_comprehensive_report(
            aggregated_results, workflow_type
        )
        
        return final_report
```

### 3. é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶

```python
def execute_with_comprehensive_error_handling(self, tool_name: str, params: Dict[str, Any]) -> Any:
    """ç»¼åˆé”™è¯¯å¤„ç†æœºåˆ¶"""
    
    try:
        # å‚æ•°é¢„å¤„ç†å’Œæ ‡å‡†åŒ–
        processed_params = self._preprocess_parameters(params)
        standardized_params = self.standardize_parameters(tool_name, processed_params)
        
        # å·¥å…·æ‰§è¡Œ
        result = self._execute_tool_with_timeout(tool_name, standardized_params)
        
        # ç»“æœéªŒè¯
        validated_result = self._validate_execution_result(result)
        
        return validated_result
        
    except ParameterError as e:
        # å‚æ•°é”™è¯¯ - è‡ªåŠ¨ä¿®å¤å’Œé‡è¯•
        fixed_params = self._auto_fix_parameters(e, params)
        return self.execute_with_retry(tool_name, fixed_params)
        
    except TimeoutError as e:
        # è¶…æ—¶é”™è¯¯ - è°ƒæ•´å‚æ•°å’Œé‡è¯•
        adjusted_params = self._adjust_for_timeout(params)
        return self.execute_with_retry(tool_name, adjusted_params)
        
    except MCPConnectionError as e:
        # MCPè¿æ¥é”™è¯¯ - é‡æ–°è¿æ¥å’Œé‡è¯•
        self._reconnect_mcp_services()
        return self.execute_with_retry(tool_name, params)
        
    except Exception as e:
        # æœªçŸ¥é”™è¯¯ - è¯¦ç»†æ—¥å¿—è®°å½•å’Œç”¨æˆ·å‹å¥½æç¤º
        self._log_detailed_error(tool_name, params, e)
        return self._generate_user_friendly_error_response(e)
```

### 4. å¤šAgentç»“æœèšåˆç®—æ³•

```python
def aggregate_multi_agent_results(self, agent_results: List[Dict[str, Any]]) -> Dict[str, Any]:
    """å¤šAgentç»“æœæ™ºèƒ½èšåˆ"""
    
    aggregated_data = {
        "financial_analysis": None,
        "cost_analysis": None,
        "efficiency_analysis": None,
        "knowledge_analysis": None,
        "conflicts": [],
        "confidence_scores": {},
        "recommendations": []
    }
    
    # 1. æ•°æ®æ ‡å‡†åŒ– - ç»Ÿä¸€æ•°æ®æ ¼å¼
    normalized_results = self._normalize_agent_data_formats(agent_results)
    
    # 2. å†²çªæ£€æµ‹å’Œè§£å†³
    conflicts = self._detect_conflicts_between_agents(normalized_results)
    resolved_conflicts = self._resolve_conflicts_intelligently(conflicts)
    
    # 3. ç½®ä¿¡åº¦è¯„ä¼°
    confidence_scores = self._calculate_confidence_scores(normalized_results)
    
    # 4. æƒé‡è®¡ç®—å’Œç»“æœèåˆ
    weighted_results = self._apply_intelligent_weighting(normalized_results, confidence_scores)
    
    # 5. ç»¼åˆå»ºè®®ç”Ÿæˆ
    recommendations = self._generate_comprehensive_recommendations(weighted_results)
    
    return {
        "analysis_results": weighted_results,
        "conflicts_resolved": resolved_conflicts,
        "confidence_assessment": confidence_scores,
        "strategic_recommendations": recommendations
    }
```

## ğŸ”§ ç³»ç»Ÿé…ç½®

```python
# config.py - ä¸»é…ç½®æ–‡ä»¶
class SystemConfig:
    # AIæ¨¡å‹é…ç½®
    ai_config: AIConfig
    
    # ç³»ç»Ÿè¿è¡Œé…ç½®
    system_config: SystemRuntimeConfig
    
    # Agenté…ç½®
    agent_config: AgentConfig
    
    # æ—¥å¿—é…ç½®
    logging_config: LoggingConfig
    
    # å·¥ä½œæµé…ç½®
    workflow_config: WorkflowConfig
    
    # ä¸šåŠ¡é…ç½®
    business_config: BusinessConfig
```

### è‡ªå®šä¹‰é…ç½®

1. **ä¿®æ”¹AIæ¨¡å‹å‚æ•°**
```python
AI_CONFIG = {
    "model": "gemini-2.5-pro",  # å¯é€‰å…¶ä»–æ¨¡å‹
    "temperature": 0.7,         # è°ƒæ•´åˆ›é€ æ€§ (0.0-1.0)
    "max_tokens": 4000,         # æœ€å¤§è¾“å‡ºé•¿åº¦
    "timeout": 60               # è¯·æ±‚è¶…æ—¶æ—¶é—´
}
```

2. **è°ƒæ•´å·¥ä½œæµå‚æ•°**
```python
WORKFLOW_CONFIG = {
    "max_parallel_agents": 4,    # æœ€å¤§å¹¶è¡ŒAgentæ•°
    "default_timeout": 300,      # é»˜è®¤è¶…æ—¶æ—¶é—´
    "retry_count": 2,            # é‡è¯•æ¬¡æ•°
    "enable_caching": True       # å¯ç”¨ç»“æœç¼“å­˜
}
```

3. **é…ç½®æ—¥å¿—çº§åˆ«**
```python
LOGGING_CONFIG = {
    "log_level": "INFO",         # DEBUG, INFO, WARNING, ERROR
    "enable_file_logging": True, # å¯ç”¨æ–‡ä»¶æ—¥å¿—
    "log_file_path": "logs/system.log"
}
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡

- **å“åº”æ—¶é—´**ï¼šå•æ¬¡åˆ†æ < 5åˆ†é’Ÿ
- **å¹¶å‘å¤„ç†**ï¼šæ”¯æŒæœ€å¤š4ä¸ªAgentå¹¶è¡Œæ‰§è¡Œ
- **å†…å­˜ä½¿ç”¨**ï¼šå³°å€¼å†…å­˜ < 2GB
- **å‡†ç¡®ç‡**ï¼šAIåˆ†æå‡†ç¡®ç‡ > 85%

### ä¼˜åŒ–å»ºè®®

1. **ç¡¬ä»¶ä¼˜åŒ–**
   - æ¨è8GBä»¥ä¸Šå†…å­˜
   - SSDç¡¬ç›˜æå‡I/Oæ€§èƒ½
   - ç¨³å®šç½‘ç»œè¿æ¥ç¡®ä¿AI APIè°ƒç”¨

2. **è½¯ä»¶ä¼˜åŒ–**
   - å¯ç”¨ç»“æœç¼“å­˜å‡å°‘é‡å¤è®¡ç®—
   - åˆç†è®¾ç½®å¹¶è¡ŒAgentæ•°é‡
   - å®šæœŸæ¸…ç†æ—¥å¿—æ–‡ä»¶

3. **ç½‘ç»œä¼˜åŒ–**
   - ä½¿ç”¨CDNåŠ é€ŸAPIè°ƒç”¨
   - é…ç½®è¯·æ±‚é‡è¯•æœºåˆ¶
   - ç›‘æ§APIè°ƒç”¨é¢‘ç‡

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ç³»ç»Ÿå¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python --version  # éœ€è¦3.8+

# æ£€æŸ¥ä¾èµ–å®‰è£…
pip list | grep agno

# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt --force-reinstall
```

#### 2. AI APIè°ƒç”¨å¤±è´¥
```bash
# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping xi.apicenter.top

# éªŒè¯APIå¯†é’¥
python -c "from config import get_ai_config; print(get_ai_config())"

# æµ‹è¯•APIè¿æ¥
curl -X POST "https://xi.apicenter.top/v1/chat/completions" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json"
```

#### 3. å†…å­˜ä¸è¶³é”™è¯¯
```bash
# æ£€æŸ¥ç³»ç»Ÿå†…å­˜
wmic OS get TotalVisibleMemorySize,FreePhysicalMemory

# å‡å°‘å¹¶è¡ŒAgentæ•°é‡
# åœ¨config.pyä¸­ä¿®æ”¹ï¼š
max_parallel_agents = 2  # ä»4å‡å°‘åˆ°2
```

#### 4. å·¥ä½œæµæ‰§è¡Œè¶…æ—¶
```bash
# å¢åŠ è¶…æ—¶æ—¶é—´
# åœ¨workflow_templates.pyä¸­ä¿®æ”¹ï¼š
global_timeout = 3600  # å¢åŠ åˆ°1å°æ—¶

# æ£€æŸ¥ç½‘ç»œå»¶è¿Ÿ
ping -t xi.apicenter.top
```

### æ—¥å¿—åˆ†æ

ç³»ç»Ÿæ—¥å¿—ä½äº `logs/system.log`ï¼ŒåŒ…å«è¯¦ç»†çš„æ‰§è¡Œä¿¡æ¯ï¼š

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f logs/system.log

# æœç´¢é”™è¯¯ä¿¡æ¯
findstr "ERROR" logs/system.log

# åˆ†ææ€§èƒ½é—®é¢˜
findstr "execution_time" logs/system.log
```

## ğŸ”’ å®‰å…¨è¯´æ˜

### æ•°æ®å®‰å…¨

- **æœ¬åœ°å¤„ç†**ï¼šæ‰€æœ‰æ•°æ®åœ¨æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨
- **APIå®‰å…¨**ï¼šä½¿ç”¨HTTPSåŠ å¯†ä¼ è¾“ï¼ŒAPIå¯†é’¥å®‰å…¨å­˜å‚¨
- **è®¿é—®æ§åˆ¶**ï¼šç³»ç»Ÿè¿è¡Œåœ¨æœ¬åœ°ç¯å¢ƒï¼Œæ— å¤–éƒ¨è®¿é—®é£é™©
- **æ•°æ®è„±æ•**ï¼šæ•æ„Ÿæ•°æ®åœ¨åˆ†æå‰è‡ªåŠ¨è„±æ•å¤„ç†

### éšç§ä¿æŠ¤

- **æ•°æ®æœ€å°åŒ–**ï¼šåªå¤„ç†åˆ†æå¿…éœ€çš„æ•°æ®
- **ä¸´æ—¶å­˜å‚¨**ï¼šåˆ†æç»“æœå¯é€‰æ‹©æ€§ä¿å­˜
- **æ—¥å¿—æ¸…ç†**ï¼šå®šæœŸæ¸…ç†åŒ…å«æ•æ„Ÿä¿¡æ¯çš„æ—¥å¿—
- **åˆè§„æ€§**ï¼šç¬¦åˆä¼ä¸šæ•°æ®ä¿æŠ¤æ”¿ç­–

## ğŸ“š å¼€å‘æ–‡æ¡£

### é¡¹ç›®æ–‡ä»¶ç»“æ„

```
7_agno_coordinator/
â”œâ”€â”€ agents/                           # Agentå®ç°ç›®å½•
â”‚   â”œâ”€â”€ __init__.py                    # Agentæ¨¡å—åˆå§‹åŒ–
â”‚   â”œâ”€â”€ base_agent.py                  # AgentåŸºç±» - é€šç”¨AgentåŠŸèƒ½
â”‚   â”œâ”€â”€ business_agent.py              # ä¸šåŠ¡AgentåŸºç±» - ä¸šåŠ¡åˆ†æé€šç”¨åŠŸèƒ½
â”‚   â”œâ”€â”€ financial_agent.py             # è´¢åŠ¡åˆ†æAgent - ROEã€ROAç­‰è´¢åŠ¡æŒ‡æ ‡
â”‚   â”œâ”€â”€ cost_agent.py                  # æˆæœ¬åˆ†æAgent - æˆæœ¬ç»“æ„ã€é¢„ç®—åˆ†æ
â”‚   â”œâ”€â”€ efficiency_agent.py            # æ•ˆç‡åˆ†æAgent - äººå‘˜æ•ˆç‡ã€æµç¨‹ä¼˜åŒ–
â”‚   â”œâ”€â”€ knowledge_agent.py             # çŸ¥è¯†ç®¡ç†Agent - çŸ¥è¯†åº“ã€æŠ€èƒ½è¯„ä¼°
â”‚   â””â”€â”€ report_generator_agent.py      # æŠ¥å‘Šç”ŸæˆAgent - HTMLå¯è§†åŒ–æŠ¥å‘Š
â”œâ”€â”€ models/                           # æ•°æ®æ¨¡å‹ç›®å½•
â”‚   â””â”€â”€ conversation_history.py        # ä¼šè¯å†å²æ¨¡å‹ - SQLiteæ•°æ®å­˜å‚¨
â”œâ”€â”€ data/                            # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ conversation_history.db        # SQLiteä¼šè¯æ•°æ®åº“
â”œâ”€â”€ logs/                            # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ mcp_client_*.log              # MCPå®¢æˆ·ç«¯è¯¦ç»†æ—¥å¿—
â”‚   â”œâ”€â”€ system_*.log                  # ç³»ç»Ÿè¿è¡Œæ—¥å¿—
â”‚   â””â”€â”€ error_*.log                   # é”™è¯¯å’Œå¼‚å¸¸æ—¥å¿—
â”œâ”€â”€ docs/                            # é¡¹ç›®æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ ALIGNMENT_æ™ºèƒ½ä½“æ‰§è¡Œé—®é¢˜.md     # æ™ºèƒ½ä½“æ‰§è¡Œé—®é¢˜åˆ†æ
â”‚   â”œâ”€â”€ ARCHITECTURE_OVERVIEW.md      # ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ
â”‚   â”œâ”€â”€ FINAL_SYSTEM_STATUS_REPORT.md # ç³»ç»ŸçŠ¶æ€æœ€ç»ˆæŠ¥å‘Š
â”‚   â”œâ”€â”€ FINAL_TEST_REPORT.md          # æœ€ç»ˆæµ‹è¯•æŠ¥å‘Š
â”‚   â””â”€â”€ SYSTEM_FIXES_AND_IMPROVEMENTS.md # ç³»ç»Ÿä¿®å¤å’Œæ”¹è¿›è®°å½•
â”œâ”€â”€ standardized_mcp_client_v2.py     # æ ‡å‡†åŒ–MCPå®¢æˆ·ç«¯ - è§£å†³å…¼å®¹æ€§é—®é¢˜
â”œâ”€â”€ planner_agent.py                  # è§„åˆ’Agent - éœ€æ±‚åˆ†æã€ä»»åŠ¡ç¼–æ’
â”œâ”€â”€ workflow_templates.py             # å·¥ä½œæµæ¨¡æ¿ - é¢„å®šä¹‰ä¸šåŠ¡æµç¨‹
â”œâ”€â”€ config.py                         # ç³»ç»Ÿé…ç½® - AIæ¨¡å‹ã€ä¸šåŠ¡å‚æ•°
â”œâ”€â”€ main.py                           # ä¸»å¯åŠ¨ç¨‹åº - FastAPIæœåŠ¡ã€CLI
â”œâ”€â”€ final_system_verification.py      # ç³»ç»ŸéªŒè¯ç¨‹åº - åŠŸèƒ½æµ‹è¯•
â””â”€â”€ requirements.txt                  # ä¾èµ–åŒ…åˆ—è¡¨ - é¡¹ç›®ä¾èµ–ç®¡ç†
```

### æ ¸å¿ƒä»£ç æ–‡ä»¶è¯´æ˜

#### 1. æ ‡å‡†åŒ–MCPå®¢æˆ·ç«¯ (`standardized_mcp_client_v2.py`)
- **ä»£ç è¡Œæ•°**ï¼šçº¦800è¡Œ
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šè§£å†³FastMCPå‚æ•°å…¼å®¹æ€§é—®é¢˜
- **æŠ€æœ¯ç‰¹è‰²**ï¼šå‚æ•°ç»“æ„æ ‡å‡†åŒ–ã€æ™ºèƒ½é”™è¯¯æ¢å¤ã€é‡è¯•æœºåˆ¶
- **å…³é”®ç±»**ï¼š`StandardizedMCPClient`, `MCPParameterValidator`

#### 2. è§„åˆ’Agent (`planner_agent.py`)
- **ä»£ç è¡Œæ•°**ï¼šçº¦600è¡Œ
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šè‡ªç„¶è¯­è¨€ç†è§£ã€éœ€æ±‚åˆ†æã€ä»»åŠ¡åˆ†è§£
- **AIæ¨¡å‹**ï¼šGemini-2.5-Pro via OpenAI API
- **å…³é”®æ–¹æ³•**ï¼š`analyze_requirement()`, `generate_execution_plan()`

#### 3. ä¸»å¯åŠ¨ç¨‹åº (`main.py`)
- **ä»£ç è¡Œæ•°**ï¼šçº¦500è¡Œ
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šFastAPI WebæœåŠ¡ã€å‘½ä»¤è¡Œæ¥å£ã€ç³»ç»Ÿç®¡ç†
- **APIç«¯ç‚¹**ï¼š`/analyze`, `/collaborate`, `/health`, `/docs`
- **æœåŠ¡æ¨¡å¼**ï¼šäº¤äº’æ¨¡å¼ã€APIæ¨¡å¼ã€æ¼”ç¤ºæ¨¡å¼ã€å•æ¬¡åˆ†ææ¨¡å¼

### æ‰©å±•å¼€å‘

#### 1. æ·»åŠ æ–°çš„Agent

```python
# ç»§æ‰¿BusinessAgentåŸºç±»
from agents.business_agent import BusinessAgent

class CustomAgent(BusinessAgent):
    def __init__(self):
        super().__init__(
            agent_id="custom_agent",
            agent_name="è‡ªå®šä¹‰åˆ†æAgent",
            agent_description="æ‰§è¡Œè‡ªå®šä¹‰ä¸šåŠ¡åˆ†æ"
        )
    
    def _get_system_prompt(self) -> str:
        return "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è‡ªå®šä¹‰åˆ†æä¸“å®¶..."
    
    async def execute_task(self, task_input: dict) -> dict:
        # å®ç°å…·ä½“çš„åˆ†æé€»è¾‘
        pass
```

#### 2. åˆ›å»ºæ–°çš„å·¥ä½œæµæ¨¡æ¿

```python
# åœ¨workflow_templates.pyä¸­æ·»åŠ 
def create_custom_workflow_template() -> WorkflowTemplate:
    return WorkflowTemplate(
        template_id="custom_analysis",
        template_name="è‡ªå®šä¹‰åˆ†æ",
        description="è‡ªå®šä¹‰ä¸šåŠ¡åˆ†æå·¥ä½œæµ",
        stages=[...],  # å®šä¹‰å·¥ä½œæµé˜¶æ®µ
        version="1.0.0"
    )
```

#### 3. è‡ªå®šä¹‰æŠ¥å‘Šæ¨¡æ¿

```python
# ä¿®æ”¹report_generator_agent.py
def _generate_custom_report(self, analysis_results: dict) -> str:
    template = """
    <html>
    <head><title>è‡ªå®šä¹‰åˆ†ææŠ¥å‘Š</title></head>
    <body>
        <!-- è‡ªå®šä¹‰æŠ¥å‘Šå†…å®¹ -->
    </body>
    </html>
    """
    return template
```

## ğŸ¤ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼

- **é¡¹ç›®å›¢é˜Ÿ**ï¼šå•†æµ·æ˜Ÿè¾°é˜Ÿ
- **æŠ€æœ¯æ”¯æŒ**ï¼šé€šè¿‡GitHub Issuesæäº¤é—®é¢˜
- **æ–‡æ¡£æ›´æ–°**ï¼šå®šæœŸæ›´æ–°ä½¿ç”¨æ–‡æ¡£å’Œæœ€ä½³å®è·µ

### è´¡çŒ®æŒ‡å—

1. **ä»£ç è§„èŒƒ**ï¼šéµå¾ªPEP 8 Pythonä»£ç è§„èŒƒ
2. **æ³¨é‡Šè¦æ±‚**ï¼šå…³é”®åŠŸèƒ½å¿…é¡»æœ‰è¯¦ç»†ä¸­æ–‡æ³¨é‡Š
3. **æµ‹è¯•è¦†ç›–**ï¼šæ–°åŠŸèƒ½éœ€è¦åŒ…å«å•å…ƒæµ‹è¯•
4. **æ–‡æ¡£æ›´æ–°**ï¼šåŠŸèƒ½å˜æ›´éœ€è¦åŒæ­¥æ›´æ–°æ–‡æ¡£

### ç‰ˆæœ¬å†å²

- **v2.0.0** (2024-12-19)
  - ğŸ”§ **æ ‡å‡†åŒ–MCPå®¢æˆ·ç«¯**ï¼šè§£å†³FastMCPå‚æ•°å…¼å®¹æ€§é—®é¢˜
  - ğŸ§  **æ™ºèƒ½è§„åˆ’Agent**ï¼šåŸºäºGemini-2.5-Proçš„è‡ªç„¶è¯­è¨€ç†è§£
  - âš¡ **å¤šAgentå¹¶è¡Œæ‰§è¡Œ**ï¼šæ”¯æŒ4ä¸ªAgentåŒæ—¶è¿è¡Œï¼Œæå‡æ‰§è¡Œæ•ˆç‡
  - ğŸ“Š **HTMLå¯è§†åŒ–æŠ¥å‘Š**ï¼šPlotlyäº¤äº’å¼å›¾è¡¨ï¼Œå“åº”å¼è®¾è®¡
  - ğŸ›¡ï¸ **ç»¼åˆé”™è¯¯å¤„ç†**ï¼šæ™ºèƒ½é”™è¯¯æ¢å¤ï¼Œè‡ªåŠ¨é‡è¯•æœºåˆ¶
  - ğŸ’¾ **ä¼šè¯å†å²ç®¡ç†**ï¼šSQLiteæ•°æ®åº“å­˜å‚¨ï¼Œæ”¯æŒå¯¹è¯çŠ¶æ€ç»´æŠ¤
  - ğŸŒ **FastAPI WebæœåŠ¡**ï¼šRESTful APIï¼Œæ”¯æŒå¤šç§æœåŠ¡æ¨¡å¼

- **v1.0.0** (2024-12-15)
  - åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
  - å®ç°åŸºç¡€Multi-Agentæ¶æ„
  - æ”¯æŒè´¢åŠ¡ã€æˆæœ¬ã€æ•ˆç‡ã€çŸ¥è¯†ç®¡ç†åˆ†æ
  - æä¾›åŸºç¡€HTMLæŠ¥å‘Šç”Ÿæˆ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºå››å·æ™ºæ°´ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸å†…éƒ¨ä½¿ç”¨ï¼Œç‰ˆæƒæ‰€æœ‰ã€‚æœªç»æˆæƒä¸å¾—å¤åˆ¶ã€åˆ†å‘æˆ–ä¿®æ”¹ã€‚

---

**ğŸ¯ æ™ºæ°´ä¿¡æ¯Multi-Agent AIæ™ºæ…§ç®¡ç†ç³»ç»Ÿ - è®©æ•°æ®é©±åŠ¨å†³ç­–ï¼Œè®©AIèµ‹èƒ½ç®¡ç†ï¼**